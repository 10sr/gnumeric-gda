<?xml version="1.0" ?>
<!DOCTYPE doc [
      <!ENTITY patch_dir "/gnome/src/gnumeric/tools/win32/patches/">
      <!-- <!ENTITY patch_dir "http://svn.gnome.org/svn/gnumeric/trunk/tools/win32/patches/"> -->
]>
<moduleset>
    <repository type="svn" name="svn.gnome.org" default="yes"
		href="http://svn.gnome.org/svn/"/>
    <repository type="tarball" name="gnome.org"
		href="http://download.gnome.org"/>
    <repository type="tarball" name="zlib.net"
		href="http://www.zlib.net"/>
    <repository type="git" name="freedesktop.org"
		href="git://cgit.freedesktop.org/git"/>

    <tarball id="gettext" version="0.17">
	<source href="ftp://ftp.gnu.org/pub/gnu/gettext/gettext-0.17.tar.gz"
	    md5sum="58a2bc6d39c0ba57823034d55d65d606"/>
	<patches>
	    <patch file="http://www.gnome.org/~aruiz/gtk+/patches/gettext_0_17_crossbuild_override_tools_fix.patch"/>
	</patches>
	<dependencies/>
    </tarball>

    <tarball id="pcre" version="7.8">
	<source href="http://downloads.sourceforge.net/pcre/pcre-7.8.tar.bz2"/>
	<patches>
	</patches>
    </tarball>
    <autotools id="gtk-doc">
	<branch module="gtk-doc/trunk" checkoutdir="gtk-doc"/>
	<dependencies>
	</dependencies>
    </autotools>

<!--
		- APPLY MANUALLY -
    <autotools id="glib">
	<branch>
	    <patches>
		<patch file="http://www.gnome.org/~aruiz/gtk+/patches/glib_win32_cachefile.patch.gz"/>
		<patch file="&patch_dir;glib-goption-disable-localization.patch"/>
	    </patches>
	</branch>
	<dependencies>
	    <dep package="gettext"/>
	    <dep package="gtk-doc"/>
	    <dep package="iconv"/>
	</dependencies>
    </autotools>
-->
    <tarball id="glib" version="2.18.3">
	<source href="http://download.gnome.org/sources/glib/2.18/glib-2.18.3.tar.bz2" />
	<patches>
		<patch file="http://www.gnome.org/~aruiz/gtk+/patches/glib_win32_cachefile.patch"/>
		<patch file="&patch_dir;glib-goption-disable-localization.patch"/>
	</patches>
	<dependencies>
	    <dep package="gettext"/>
	    <dep package="gtk-doc"/>
	</dependencies>
    </tarball>

<!-- Compression -->
    <autotools id="zlib"
	makeargs="-f win32/Makefile.gcc"
	makeinstallargs="-f win32/Makefile.gcc -e install">
	<branch repo="zlib.net" module="zlib-1.2.3.tar.gz"
		version="1.2.3"
		md5sum="debc62758716a169df9f62e6ab2bc634">
	    <patch file="&patch_dir;zlib.patch"/>
	</branch>
    </autotools>
    <tarball id="libbz2" version="1.0.5">
	<source href="http://www.bzip.org/1.0.5/bzip2-1.0.5.tar.gz"/>
	<patches>
	    <patch file="&patch_dir;libbz2.patch" strip="1"/>
	</patches>
    </tarball>

<!-- Image formats  -->
    <tarball id="jpeg" version="6b" checkoutdir="jpeg-6b">
	<source href="http://www.ijg.org/files/jpegsrc.v6b.tar.gz"
		md5sum="dbd5f3b47ed13132f04c685d608a7547"/>
	<patches>
	    <patch file="http://gnome.org/~aruiz/gtk+/patches/jpeg_mingwport.patch" strip="1"/>
	</patches>
    </tarball>
    <tarball id="png" version="1.2.29">
	<source href="ftp://ftp.simplesystems.org/pub/libpng/png/src/libpng-1.2.29.tar.bz2"/>
	<dependencies>
	    <dep package="zlib"/>
	</dependencies>
    </tarball>
    <!--
    <tarball id="tiff" version="3.8.2">
	<source href="ftp://ftp.remotesensing.org/pub/libtiff/tiff-3.8.2.tar.gz"
		md5sum="fbb6f446ea4ed18955e2714934e5b698"/>
	<dependencies>
	    <dep package="jpeg"/>
	</dependencies>
    </tarball>
    -->

<!-- Gtk stack -->
    <autotools id="pixman">
	<branch repo="freedesktop.org"/>
    </autotools>
    <autotools id="cairo">
	<branch repo="freedesktop.org"/>
	<dependencies>
	    <dep package="zlib"/>
	    <dep package="png"/>
	    <dep package="pixman"/>
	</dependencies>
    </autotools>

    <tarball id="libdatrie" version="0.1.2" checkoutdir="libdatrie-0.1.3">
	<source href="http://ftp.debian.org/pool/main/libd/libdatrie/libdatrie_0.1.3.orig.tar.gz"
		md5sum="917a40de487df3c29650b7434f473fa0"/>
    </tarball>
    <tarball id="libthai" version="0.1.9" checkoutdir="libthai-0.1.9">
	<source href="http://ftp.debian.org/pool/main/libt/libthai/libthai_0.1.9.orig.tar.gz"
		md5sum="7002d111b293f202d20b28aa2b4ed68f"/>
	<dependencies>
	    <dep package="libdatrie"/>
	</dependencies>
	<patches>
	    <patch file="&patch_dir;libthai.patch"/>
	</patches>
    </tarball>

    <autotools id="gnome-common">
	<branch/>
	<dependencies>
	</dependencies>
    </autotools>
    <autotools id="intltool">
	<branch/>
	<dependencies>
	    <dep package="gnome-common"/>
	</dependencies>
    </autotools>

<!--
    <tarball id="pango" version="1.16.4">
	<source href="http://ftp.gnome.org/pub/gnome/sources/pango/1.16/pango-1.16.4.tar.bz2"
		md5sum="025e2ac5e40cac163aae4653aeef559c"/>
	<dependencies>
	    <dep package="cairo"/>
	    <dep package="glib"/>
	    <dep package="libthai"/>
	</dependencies>
    </tarball>
    -->
    <autotools id="pango">
	<branch/>
	<dependencies>
	    <dep package="cairo"/>
	    <dep package="glib"/>
	    <dep package="libthai"/>
	    <dep package="gtk-doc"/>
	</dependencies>
    </autotools>

    <tarball id="atk" version="1.22.0">
	<source href="http://ftp.acc.umu.se/pub/gnome/sources/atk/1.22/atk-1.22.0.tar.bz2"/>
	<dependencies>
	    <dep package="glib"/>
	</dependencies>
    </tarball>
<!--
    <autotools id="gtk+">
	<branch/>
	<dependencies>
	    <dep package="glib"/>
	    <dep package="cairo"/>
	    <dep package="atk"/>
	    <dep package="pango"/>
	</dependencies>
    </autotools>
    -->

    <autotools id="gtk+" version="2.14.4">
	<branch repo="gnome.org" module="sources/gtk+/2.14/gtk+-2.14.4.tar.bz2"
		version="2.14.4">
	    <patch file="&patch_dir;gtk-VK_DECIMAL.patch"/>
	</branch>
	<dependencies>
	    <dep package="glib"/>
	    <dep package="cairo"/>
	    <dep package="atk"/>
	    <dep package="pango"/>
	</dependencies>
    </autotools>

<!-- glade stack -->
    <tarball id="libxml2" version="2.6.32">
	<source href="ftp://xmlsoft.org/libxml2/libxml2-2.6.32.tar.gz"/>
	<dependencies>
	    <dep package="zlib"/>
	</dependencies>
    </tarball>
    <tarball id="libglade" version="2.6.0">
	<source href="http://ftp.gnome.org/pub/gnome/sources/libglade/2.6/libglade-2.6.0.tar.bz2"
		md5sum="81d7b2b64871ce23a5fae1e5da0b1f6e"/>
	<dependencies>
	    <dep package="gtk+"/>
	    <dep package="libxml2"/>
	</dependencies>
    </tarball>

<!-- python stack -->
    <autotools id="pygobject" version="3.1.2">
	<branch repo="gnome.org" module="sources/pygobject/2.14/pygobject-2.14.2.tar.bz2"
		version="3.1.2">
	    <patch file="&patch_dir;pygobject.patch"/>
	</branch>

	<dependencies>
	    <dep package="glib"/>
	</dependencies>
    </autotools>

    <autotools id="libgda" version="3.1.5">
	<branch repo="gnome.org" module="sources/libgda/3.1/libgda-3.1.5.tar.bz2"
		version="3.1.5">
	</branch>
	<dependencies>
	    <dep package="intltool"/>
	    <dep package="glib"/>
	    <dep package="libxml2"/>
	</dependencies>
    </autotools>

    <autotools id="libgnomedb" version="3.1.2"
	autogen-sh="autoreconf">
	<branch repo="gnome.org" module="sources/libgnomedb/3.1/libgnomedb-3.1.2.tar.bz2"
		version="3.1.2">
	    <patch file="&patch_dir;libgnomedb.patch"/>
	</branch>
	<dependencies>
	    <dep package="intltool"/>
	    <dep package="libgda"/>
	    <dep package="gtk+"/>
	</dependencies>
    </autotools>

    <tarball id="pxlib" version="0.6.3">
	<source href="http://superb-east.dl.sourceforge.net/sourceforge/pxlib/pxlib-0.6.3.tar.gz"
		md5sum="0742020854496fa757d7acbe6a895224"/>
	<patches>
	</patches>
    </tarball>
    <tarball id="psiconv" version="2.6.0">
	<source href="http://software.frodo.looijaard.name/psiconv/files/psiconv-0.9.8.tar.gz"
		md5sum="8d7548e3c6b9cd408544736133728acd"/>
	<patches>
	    <patch file="&patch_dir;psiconv.patch"/>
	</patches>
    </tarball>

<!-- Gnumeric stack -->
    <autotools id="libgsf" version="trunk">
	<branch/>
	<dependencies>
	    <dep package="glib"/>
	    <dep package="libxml2"/>
	    <dep package="zlib"/>
	    <dep package="libbz2"/>
	    <dep package="intltool"/>
	</dependencies>
    </autotools>

    <autotools id="goffice" version="trunk">
	<branch/>
	<dependencies>
	    <dep package="glib"/>
	    <dep package="libgsf"/>
	    <dep package="pcre"/>
	    <dep package="libxml2"/>
	    <dep package="pango"/>
	    <dep package="libglade"/>
	    <dep package="intltool"/>
	</dependencies>
	<patches>
	</patches>
    </autotools>
    <autotools id="gnumeric" version="trunk">
	<branch>
	    <patch file="&patch_dir;gnumeric-pending-win32-fixes.patch"/>
	</branch>
	<dependencies>
	    <dep package="goffice"/>
	</dependencies>
	<suggests>
	    <dep package="libgnomedb"/>
	    <dep package="pxlib"/>
	    <dep package="psiconv"/>
	    <dep package="pygobject"/>
	</suggests>
    </autotools>
</moduleset>
