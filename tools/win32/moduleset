<?xml version="1.0" ?>
<!DOCTYPE doc [
      <!ENTITY patch_dir "/gnome/src/gnumeric/tools/win32/patches/">
      <!-- <!ENTITY patch_dir "http://svn.gnome.org/svn/gnumeric/trunk/tools/win32/patches/"> -->
]>
<moduleset>
    <repository type="git" name="git.gnome.org" default="yes"
		href="git://git.gnome.org/"/>
    <repository type="tarball" name="gnome.org"
		href="http://download.gnome.org"/>
    <repository type="tarball" name="zlib.net"
		href="http://www.zlib.net"/>
    <repository type="tarball" name="savannah"
		href="http://savannah.nongnu.org/download/"/>

    <repository type="git" name="freedesktop.org"
		href="git://cgit.freedesktop.org/git"/>
    <repository type="tarball" name="cairographics"
		href="http://cairographics.org/releases/"/>

    <repository type="tarball" name="debian"
		href="http://ftp.debian.org/debian/pool/main/"/>

    <tarball id="gettext" version="0.17">
	<source href="ftp://ftp.gnu.org/pub/gnu/gettext/gettext-0.17.tar.gz"
	    md5sum="58a2bc6d39c0ba57823034d55d65d606"/>
	<patches>
	    <patch file="http://www.gnome.org/~aruiz/gtk+/patches/gettext_0_17_crossbuild_override_tools_fix.patch"/>
	</patches>
	<dependencies/>
    </tarball>

    <tarball id="pcre" version="7.8">
	<source href="http://downloads.sourceforge.net/pcre/pcre-7.8.tar.bz2"/>
    </tarball>
    <autotools id="gtk-doc">
	<branch module="gtk-doc" checkoutdir="gtk-doc"/>
	<dependencies>
	    <dep package="glib"/>
	</dependencies>
    </autotools>

    <autotools id="glib">
	<branch repo="gnome.org" module="sources/glib/2.20/glib-2.20.1.tar.bz2" version="2.20.1">
	    <patches>
		<patch file="&patch_dir;glib-win32-cachefile.patch.gz"/>
		<patch file="&patch_dir;glib-goption-disable-localization.patch"/>
	    </patches>
	</branch>
	<dependencies>
	    <dep package="gettext"/>
	    <dep package="iconv"/>
<!--	    <dep package="gtk-doc"/> -->
	</dependencies>
    </autotools>

<!-- Compression -->
    <autotools id="zlib"
	makeargs="-f win32/Makefile.gcc"
	makeinstallargs="-f win32/Makefile.gcc -e install">
	<branch repo="zlib.net" module="zlib-1.2.3.tar.gz"
		version="1.2.3"
		md5sum="debc62758716a169df9f62e6ab2bc634">
	    <patch file="&patch_dir;zlib.patch"/>
	</branch>
    </autotools>
    <tarball id="libbz2" version="1.0.5">
	<source href="http://www.bzip.org/1.0.5/bzip2-1.0.5.tar.gz"/>
	<patches>
	    <patch file="&patch_dir;libbz2.patch" strip="1"/>
	</patches>
    </tarball>

<!-- Image formats  -->
    <tarball id="jpeg" version="6b" checkoutdir="jpeg-6b">
	<source href="http://www.ijg.org/files/jpegsrc.v6b.tar.gz"
		md5sum="dbd5f3b47ed13132f04c685d608a7547"/>
	<patches>
	    <patch file="http://gnome.org/~aruiz/gtk+/patches/jpeg_mingwport.patch" strip="1"/>
	</patches>
    </tarball>
    <tarball id="png" version="1.2.36">
	<source href="ftp://ftp.simplesystems.org/pub/libpng/png/src/libpng-1.2.36.tar.bz2"/>
	<dependencies>
	    <dep package="zlib"/>
	</dependencies>
    </tarball>
    <!--
    <tarball id="tiff" version="3.8.2">
	<source href="ftp://ftp.remotesensing.org/pub/libtiff/tiff-3.8.2.tar.gz"
		md5sum="fbb6f446ea4ed18955e2714934e5b698"/>
	<dependencies>
	    <dep package="jpeg"/>
	</dependencies>
    </tarball>
    -->

<!-- Gtk stack -->
    <autotools id="pixman">
	<branch repo="cairographics"
		module="pixman-0.14.0.tar.gz"
		version="0.14.0"/>
    </autotools>
    <autotools id="cairo">
	<branch repo="cairographics"
		module="cairo-1.8.2.tar.gz"
		version="1.8.2"/>
	<patches>
	</patches>
	<dependencies>
	    <dep package="zlib"/>
	    <dep package="png"/>
	    <dep package="pixman"/>
	    <dep package="freetype"/>
	    <dep package="fontconfig"/>
	</dependencies>
    </autotools>

    <tarball id="iconv" version="1.13">
	<source href="http://ftp.gnu.org/pub/gnu/libiconv/libiconv-1.13.tar.gz"/>
	<patches>
	    <patch file="&patch_dir;iconv.patch"/>
	</patches>
    </tarball>
    <autotools id="libdatrie">
	<branch repo="debian"
		module="libd/libdatrie/libdatrie_0.2.2.orig.tar.gz"
		version="0.2.2" checkoutdir="libdatrie-0.2.2"/>
	<dependencies>
	    <dep package="iconv"/>
	</dependencies>
    </autotools>
    <autotools id="libthai">
	<branch repo="debian"
		module="libt/libthai/libthai_0.1.11.orig.tar.gz"
		version="0.1.11" checkoutdir="libthai-0.1.11"/>
	<dependencies>
	    <dep package="libdatrie"/>
	</dependencies>
	<patches>
	    <patch file="&patch_dir;libthai.patch"/>
	</patches>
    </autotools>

    <autotools id="gnome-common">
	<branch/>
	<dependencies>
	</dependencies>
    </autotools>

    <autotools id="freetype"
	autogen-sh="configure"  skip-autogen="never">
	<branch repo="savannah" module="freetype/freetype-2.3.9.tar.bz2" version="2.3.9"/>
	<dependencies>
	</dependencies>
    </autotools>

    <tarball id="fontconfig" version="2.4.2"
	autogen-sh="autoreconf" skip-autogen="never">
	<source href="http://fontconfig.org/release/fontconfig-2.4.2.tar.gz"/>
	<dependencies>
	    <dep package="freetype"/>
	</dependencies>
	<patches>
	    <patch file="http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/fontconfig-2.4.2-tml-20071015.diff"/>
            <patch file="&patch_dir;fontconfig-CC.patch"/>
	</patches>
    </tarball>

<!--
    <tarball id="pango" version="1.16.4">
	<source href="http://ftp.gnome.org/pub/gnome/sources/pango/1.16/pango-1.16.4.tar.bz2"
		md5sum="025e2ac5e40cac163aae4653aeef559c"/>
	<dependencies>
	    <dep package="cairo"/>
	    <dep package="glib"/>
	    <dep package="libthai"/>
	</dependencies>
    </tarball>
    -->
    <autotools id="pango">
	<branch/>
	<dependencies>
	    <dep package="freetype"/>
	    <dep package="cairo"/>
	    <dep package="glib"/>
	    <dep package="libthai"/>
	    <dep package="gtk-doc"/>
	</dependencies>
    </autotools>

    <tarball id="atk" version="1.26.0">
	<source href="http://ftp.acc.umu.se/pub/gnome/sources/atk/1.26/atk-1.26.0.tar.bz2"/>
	<dependencies>
	    <dep package="glib"/>
	</dependencies>
    </tarball>
<!--
    <autotools id="gtk+">
	<branch/>
	<dependencies>
	    <dep package="glib"/>
	    <dep package="cairo"/>
	    <dep package="atk"/>
	    <dep package="pango"/>
	</dependencies>
    </autotools>
    -->

    <autotools id="gtk+">
	<branch repo="gnome.org" module="sources/gtk+/2.16/gtk+-2.16.1.tar.bz2"
		version="2.16.1">
	    <patch file="&patch_dir;gtk-disable-demo.patch"/>
	</branch>
	<dependencies>
	    <dep package="glib"/>
	    <dep package="cairo"/>
	    <dep package="atk"/>
	    <dep package="pango"/>
	</dependencies>
    </autotools>

<!-- glade stack -->
    <tarball id="libxml2" version="2.6.32">
	<source href="ftp://xmlsoft.org/libxml2/libxml2-2.6.32.tar.gz"/>
	<dependencies>
	    <dep package="zlib"/>
	</dependencies>
    </tarball>
    <tarball id="libglade" version="2.6.4">
	<source href="http://ftp.gnome.org/pub/gnome/sources/libglade/2.6/libglade-2.6.4.tar.bz2"/>
	<dependencies>
	    <dep package="gtk+"/>
	    <dep package="libxml2"/>
	</dependencies>
    </tarball>

<!-- python stack -->
    <autotools id="pygobject" 
	autogen-sh="autoreconf" skip-autogen="never">
	<branch repo="gnome.org" module="sources/pygobject/2.16/pygobject-2.16.1.tar.bz2"
		version="2.16.1">
	    <patch file="&patch_dir;pygobject.patch"/>
	</branch>

	<dependencies>
	    <dep package="glib"/>
	</dependencies>
    </autotools>

    <autotools id="libgda">
	<branch repo="gnome.org" module="sources/libgda/4.1/libgda-4.1.0.tar.bz2"
		version="4.1.0">
	</branch>
	<dependencies>
	    <dep package="glib"/>
	    <dep package="libxml2"/>
	</dependencies>
    </autotools>

    <autotools id="libgnomedb"
	autogen-sh="autoreconf" skip-autogen="never">
	<branch repo="gnome.org" module="sources/libgnomedb/3.99/libgnomedb-3.99.7.tar.bz2"
		version="3.99.7">
	</branch>
	<dependencies>
	    <dep package="libgda"/>
	    <dep package="gtk+"/>
	</dependencies>
    </autotools>

    <tarball id="pxlib" version="0.6.3">
	<source href="http://superb-east.dl.sourceforge.net/sourceforge/pxlib/pxlib-0.6.3.tar.gz"
		md5sum="0742020854496fa757d7acbe6a895224"/>
	<patches>
	</patches>
    </tarball>
    <autotools id="psiconv">
	<branch repo="debian"
		module="p/psiconv/psiconv_0.9.8.orig.gz"
		version="0.9.8" checkoutdir="psiconv-0.9.8"/>
<!-- 
	<source href="http://software.frodo.looijaard.name/psiconv/files/psiconv-0.9.8.tar.gz"
		md5sum="8d7548e3c6b9cd408544736133728acd"/>
-->
	<patches>
	    <patch file="&patch_dir;psiconv.patch"/>
	</patches>
    </autotools>

<!-- print preview -->
  <tarball id="poppler" version="0.10.5">
    <source href="http://poppler.freedesktop.org/poppler-0.10.5.tar.gz"/>
    <dependencies>
      <dep package="cairo"/>
      <dep package="glib"/>
      <dep package="freetype"/>
      <dep package="fontconfig"/>
    </dependencies>
    <suggests>
      <dep package="poppler-data"/>
    </suggests>
    <after>
      <dep package="gtk+"/>
    </after>
  </tarball>
  <autotools id="evince"
    autogenargs="--without-keyring">
    <branch/>
    <dependencies>
      <dep package="glib"/>
      <dep package="gtk+"/>
      <dep package="libxml2"/>
      <!-- <dep package="gnome-icon-theme"/>-->
      <dep package="libglade"/>
      <dep package="poppler"/>
      <!-- <dep package="gnome-doc-utils"/>-->
    </dependencies>
    <suggests>
      <dep package="gnome-keyring"/>
    </suggests>
    <after>
      <dep package="nautilus"/>
    </after>
  </autotools>
<!-- Gnumeric stack -->
    <autotools id="libgsf">
	<branch/>
	<dependencies>
	    <dep package="glib"/>
	    <dep package="libxml2"/>
	    <dep package="zlib"/>
	    <dep package="libbz2"/>
	</dependencies>
    </autotools>

    <autotools id="lasem">
	<branch/>
	<dependencies>
	    <dep package="gtk+"/>
	</dependencies>
    </autotools>

    <autotools id="goffice">
	<branch/>
	<dependencies>
	    <dep package="glib"/>
	    <dep package="libgsf"/>
	    <dep package="pcre"/>
	    <dep package="libxml2"/>
	    <dep package="pango"/>
	    <dep package="libglade"/>
	    <dep package="lasem"/>
	</dependencies>
    </autotools>
    <autotools id="gnumeric">
	<branch/>
	<dependencies>
	    <dep package="goffice"/>
	</dependencies>
	<suggests>
	    <dep package="libgnomedb"/>
	    <dep package="pxlib"/>
	    <dep package="psiconv"/>
	    <dep package="pygobject"/>
	</suggests>
    </autotools>
</moduleset>
