2001-10-27  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-cell-format.c (validation_style_condition_chain_rebuild): Rename
	to validation_rebuild_validation.
	(validation_rebuild_validation): Also set error style, title and message
	on validation.
	(cb_validation_error_action_deactivate): Don't set error style on
	mstyle directly.
	(cb_validation_operator_deactivate): Adjust for name change.
	(cb_validation_constraint_type_deactivate): Don't rebuild chain from
	here, cb_validation_error_action_deactivate will do this.
	(cb_validation_bounds_changed): Adjust for name change.
	(cb_validation_flags_changed): Idem.
	(cb_validation_error_title_msg): Don't set title and message directly
	on mstyle. Call validation_rebuild_validation instead.
	(fmt_dialog_init_from_style_condition): Rename to
	fmt_dialog_init_validation_from_style_condition.
	(fmt_dialog_init_validation_from_style_condition): Use passed
	stylecondition instead of re-fetching it from the mstyle.
	(fmt_dialog_init_validation_page): Correctly initialize everything
	from the new, single mstyle_validation element.
	
2001-10-26  Wayne Schuller  <k_wayne@linuxpower.org>

	* dialog-printer-setup.c: (display_hf_preview), (header_changed),
	(footer_changed), (fill_hf), (do_setup_hf_menus),
	(hf_customize_apply), (hf_customize_help), (do_hf_customize),
	(do_setup_hf), (do_print_destroy_cb), (printer_setup_state_new): Don't
	  open multiples dialogs, set parent correctly, destroy when print setup
	  gets destroyed, code cleanups.

2001-10-26  Morten Welinder  <terra@diku.dk>

	* dialog-search.c (dialog_search): Make Enter start the search.

2001-10-25  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* correlation.glade : add `group by area' radio button
	* covariance.glade : ditto
	* descriptive-stats.glade: ditto
	* sampling.glade : added group_by buttons as well as multiple sample entry
	* dialog-analysis-tools.c (parse_output) : initialize all fields of dao
	(dialog_tool_init) : add argument specifying the flags for the input
          expression entry widgets
	(tool_update_sensitivity_multiple_areas_cb) : new routine, 
          tool_update_sensitivity_cb for multiple input ranges
	(corr_tool_ok_clicked_cb) : use global_range_list_parse rather than parse_range,
          call tool with modified argument list
	(cov_tool_ok_clicked_cb) : ditto
	(desc_stats_tool_ok_clicked_cb) : ditto	
	(sampling_tool_ok_clicked_cb) : ditto, as well as support for group_by and multiple
          samples
	* tools.h : changed arguments for correlation_tool, covariance_tool, 
          descriptive_stat_tool, and sampling_tool

2001-10-25  Morten Welinder  <terra@diku.dk>

	* dialog-cell-format.c (fmt_dialog_init_format_page): Plug leak.

2001-10-25  Jody Goldberg <jgoldberg@home.com>

	* dialog-define-names.c (cb_scope_changed) : rework scope handler.
	(name_guru_display_scope) : ditto.
	(name_guru_set_expr) : ditto.
	(cb_name_guru_add) : support error messages, fix updating.

2001-10-21  Wayne Schuller <k_wayne@linuxpower.org>

	* dialog-printer-setup.c : New canvas based header and footer preview
	  widget. The customize header/footer widget now also uses a
	  GnomePropertyBox for UI consistency.
	* print.glade : Updated.
	* hf-config.glade : Updated.

2001-10-23  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* dialog-analysis-tools.c : remove `strict' 
	  argument from all invocations of global_range_parse

2001-10-23  Almer S. Tigelaar  <almer@gnome.org>

	* cell-format.glade: Re-order validation action list.

	* dialog-cell-format.c (fmt_dialog_init_validation_page):
	Don't delete validation page.
	(fmt_dialog_init_input_msg_page): Adjust deletion index.
	(validation_entry_to_expr): New, turn entered text into
	expression.
	(validation_style_condition_chain_rebuild): Rebuild the
	validation chain from the input given.
	(cb_validation_error_action_deactivate): Cope for re-ordering
	of the action list. Set the action on the resulting mstyle.
	(cb_validation_operator_deactivate): Rebuild chain.
	(cb_validation_constraint_type_deactivate): Idem.
	(cb_validation_flags_changed): Idem.
	(cb_validation_bounds_changed): New, force rebuild when bounds
	change.
	(cb_validation_error_title_msg): New, reset validation title
	and message on mstyle when changed.
	(fmt_dialog_init_from_style_condition): New, initialize the
	Criteria part of the dialog from an existing mstyle.
	(fmt_dialog_init_validation_page): Connect new signal callbacks
	and initialize the Error Alert part of the dialog.
	
2001-10-22  Jody Goldberg <jgoldberg@home.com>

	* dialog-define-names.c (cb_name_guru_add) : actually display the
	  returned error.

2001-10-21  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (dialog_graph_guru) : Users are probably
	  expecting  the vectors to allocate in the order that they were
	  selected.

2001-10-20  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* goalseek.glade : replace target value in goal frame with error
	* dialog-goal-seek.c (cb_dialog_apply_clicked) : fix some leaks, check for 
	  invalid data entry and display error rather than target value.

2001-10-20  Jody Goldberg <jgoldberg@home.com>

	* dialog-formula-guru.c (formula_guru_set_expr) : use the prefix &
	  suffix strings.  Watch sign extension.
	(formula_guru_free) : split from the destroy handler.
	(dialog_formula_guru) : use formula_guru_free. and init the
	  prefix/suffix.

2001-10-19  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (dialog_graph_guru) : be quieter about a
	  failure to start the graph server.
	(graph_guru_init_data_page) : typo.

2001-10-19  Morten Welinder  <terra@diku.dk>

	* dialog-goal-seek.c (gnumeric_goal_seek): Fix determination of
 	whether set-cell contains a usable value.

2001-10-19  Jody Goldberg <jgoldberg@home.com>

	* dialog-analysis-tools.c (dialog_tool_init) Register as a guru.
	(dialog_random_tool_init) : ditto.

	* dialog-goal-seek.c (dialog_init) : Register as a guru.

2001-10-19  Morten Welinder  <terra@diku.dk>

	* dialog-goal-seek.c (gnumeric_goal_seek): New Plan F: extra
 	Newton searches from a net of points.  Disable Plans B through F
 	when bisection can kick in.

2001-10-18  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* dialog-analysis-tools.c (parse_output) : rewrite to permit output of
	  the data analysis tools to be directed into a range on a different sheet
	  of the active workbook.
	  (corr_tool_ok_clicked_cb) : change of parse_output arguments
	  (cov_tool_ok_clicked_cb) : ditto
	  (cb_desc_stat_tool_ok_clicked) : ditto
	  (rank_tool_ok_clicked_cb) : ditto
	  (ttest_tool_ok_clicked_cb) : ditto
	  (ftest_tool_ok_clicked_cb) : ditto
	  (sampling_tool_ok_clicked_cb) : ditto
	  (random_tool_ok_clicked_cb) : ditto
	  (regression_tool_ok_clicked_cb) : ditto
	  (average_tool_ok_clicked_cb) : ditto
	  (fourier_tool_ok_clicked_cb) : ditto
	  (histogram_tool_ok_clicked_cb) : ditto
	  (anova_single_tool_ok_clicked_cb) : ditto
	  (anova_two_factor_tool_ok_clicked_cb) : ditto
	* dialog-goal-seek.c (cb_dialog_apply_clicked) : fix leak

2001-10-18  Jody Goldberg <jgoldberg@home.com>

	* Release 0.72

2001-10-16  Andreas J. Guelzow <aguelzow@taliesin.ca>

        * goalseek.glade : New glade dialog
	* Makefile.am : Added goalseek.glade
	* dialog-goal-seek.c (gnumeric_goal_seek) : changes in the argument list
	(dialog_help_cb) : new callback supporting a help button
	(dialog_destroy) : new callback to change dialog into non-modal form 
	  using expr-entry widget
	(cb_dialog_cancel_clicked) : ditto
	(cb_dialog_close_clicked) : ditto
	(cb_dialog_apply_clicked) : ditto
	(dialog_set_focus) : ditto
	(dialog_realized) : ditto
	(dialog_goal_seek) : changed to support same goal
	(dialog_init) : new function creating dialog
	(dialog_found_solution) : deleted

2001-10-16  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (graph_guru_apply_changes) : add the format guru.
	(graph_guru_init_format_page) : new.
	(dialog_graph_guru) : support format guru..
	(graph_guru_set_page) : ditto.

2001-10-16  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (cb_series_entry_changed) : allow renaming of
	  series from the series combo.

2001-10-16  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (graph_guru_init_data_page) : handle component
	  death.  Only init if we need to.
	(graph_guru_apply_changes) : check the right guru.
	(graph_guru_set_page) : unless we are canceling apply any pending
	  edits on the data page to the guru.
	(vector_state_apply_changes) : new split from
	(cb_graph_guru_focus) : here.

2001-10-16  Jody Goldberg <jgoldberg@home.com>

	* graph-guru.glade : Make Finish the default button.

	* dialog-graph-guru.c (cb_graph_guru_clicked) : don't start creating
	  the object if all we were doing was editing.

2001-10-16  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (graph_guru_apply_changes) : new function.
	(graph_guru_set_page) : split from here.
	(cb_graph_guru_clicked) : used here.
	(graph_guru_clear_xml) : new.
	(graph_guru_init_data_page) : split some out into.
	(graph_guru_get_spec) : here.
	(graph_guru_state_destroy) : use graph_guru_clear_xml.
	(graph_guru_apply_changes) : update protection.
	(graph_guru_set_page) : expand.

2001-10-15  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (graph_guru_select_series) : fix leak.

2001-10-14  Almer S. Tigelaar  <almer@gnome.org>
 
 	* validate.glade: Burn.
 
 	* dialog-validate.c: Burn.
 
 	* Makefile.am: Cope for burning.
 
 	* dialogs.h: Idem and add new dialog pages to
 	cell format dialog enum.

	* dialog-cell-format.c (fmt_dialog_init_validation_page):
	Temporarily disable validation dialog before release.
	(fmt_dialog_init_input_msg_page): Remove the right page.

2001-10-14  Almer S. Tigelaar  <almer@gnome.org>

	* cell-format.glade: Tidy and add new option to validation
	error action selection menu.
	
	* dialog-cell-format.c (cb_validation_error_action_deactivate):
	Cope for the addition of the added menu item.
	(cb_validation_constraint_type_deactivate): Call
	cb_validation_error_action_deactivate to make sure the
	widgets get re-enabled/disabled properly.
	(fmt_dialog_init_validation_page): No need to call
	cb_validation_error_action_deactivate anymore.

2001-10-12  Morten Welinder  <terra@diku.dk>

	* dialog-search.c (value_at): protect cell names in cache also.
	(search_clicked): Discard string cache when searching anew.

2001-10-12  Jody Goldberg <jgoldberg@home.com>

	* dialog-about.c (dialog_about) : Use the nice new icon.

2001-10-12 Andreas J. Guelzow <aguelzow@taliesin.ca>

	http://bugzilla.gnome.org/show_bug.cgi?id=62008
        * random-generation.glade : New dialog
	* Makefile.am : Added random-generation.glade
	* dialog-analysis-tools.c (new_sheet_toggled) : deleted
	(new_workbook_toggled) : deleted
	(range_output_toggled) : deleted
	(output_range_selected) : deleted
	(set_output_option_signals) : deleted
	(dialog_tool_init_outputs) : new function, 
	  extracted existing code for reuse
	(dialog_tool_init_buttons) : ditto
	(dialog_tool_init) : parts split off into dialog_tool_init_outputs and
	  dialog_tool_init_buttons
	(random_tool_update_sensitivity) : new function
	(random_tool_ok_clicked_cb) : new function
	(dialog_random_tool_init) : new function
	(distribution_parbox_config) : changed to port random 
	  number generation tool to use expr-entry-widgets.
	(combo_get_distribution) : ditto
	(distribution_strs_find) : ditto
	(distribution_callback) : ditto
	(dialog_random_realized) : ditto
	(dialog_random_tool) : ditto

2001-10-11  Morten Welinder  <terra@diku.dk>

	* dialog-search.c (dialog_search): New dialog in new file.

	* dialog-search-replace.c (dialog_search_replace_query): Remove
 	search from here.

2001-10-11 Andreas J. Guelzow <aguelzow@taliesin.ca>

        * anova-one.glade : change variable name to be consistent across
	  various glade files to be able to use unified code
	* anova-two.glade : ditto
	* correlation.glade: ditto
	* correlation.glade: ditto
	* covariance.glade: ditto
	* descriptive-stats.glade : ditto
	* fourier-analysis.glade : ditto
	* histogram.glade : ditto
	* mean-tests.glade : ditto
	* moving-averages.glade : ditto
	* rank.glade : ditto
	* dialog-analysis-tools.c (tool_destroy) : enable accelerators for expr-entry 
	  widgets
	(dialog_tool_init) : add forgotten gnumeric_editable_enters and 
	  enable accelerators for expr-entry widgets
	(dialog_*_tool) : ditto
	(dialog_*_tool_init) : ditto
	
2001-10-10  Jody Goldberg <jgoldberg@home.com>

	http://bugzilla.gnome.org/show_bug.cgi?id=62109
	* dialog-cell-format.c (cb_font_changed) : Only set elements that
	  changed.

2001-10-10  Andreas J. Guelzow <aguelzow@taliesin.ca>

        * Makefile.am : Add anova-one.glade, anova-two.glade, fourier-analysis.glade,
	  histogram.glade, moving-averages.glade, regression.glade
	* correlation.glade : rearrange `grouped-by' buttons
	* covariance.glade  : ditto
	* descriptive-stats.glade : ditto
	* rank.glade : ditto
	* anova-one.glade : new file
	* anova-two.glade : new file
	* fourier-analysis.glade : new file
	* histogram.glade : new file
	* moving-averages.glade : new file
	* regression.glade : new file
	* dialog-analysis-tools.c (dialog_anova_two_factor_with_r_tool) : 
	  replaced by  dialog_anova_two_factor_tool, using gnumeric-expr-entry
	  widget
	(dialog_anova_two_factor_without_r_tool) : ditto
	(columns_toggled) : removed
	(rows_toggled) : removed
	(set_group_option_signals) : removed
	(checkbutton_toggled) : removed
	(first_row_label_signal_fun) : removed
	(force_intercept_zero_signal_fun) : removed
	(first_row_label_button) : removed
	(force_intercept_zero_button) : removed
	(new_dialog) : removed
	(new_frame) : removed
	(add_check_buttons) : removed
	(add_output_frame) : removed
	(tool_update_sensitivity_cb) : some clarification 
	(regression_tool_ok_clicked_cb) : new function
	(regression_tool_update_sensitivity_cb) : new function
	(dialog_regression_tool_init) : new function
	(dialog_regression_tool) : rewritten to use expr-entry widget
	(average_tool_ok_clicked_cb) : new function
	(average_tool_update_sensitivity_cb) : new function
	(dialog_average_tool_init) : new function
	(dialog_average_tool) : rewritten to use expr-entry widget
	(fourier_tool_ok_clicked_cb) : new function
	(dialog_fourier_tool) : rewritten to use expr-entry widget
	(histogram_tool_ok_clicked_cb) : new function
	(dialog_histogram_tool) : rewritten to use expr-entry widget
	(anova_single_tool_ok_clicked_cb) : new function
	(anova_single_tool_update_sensitivity_cb) : new function
	(dialog_anova_single_tool_init) : new function
	(dialog_anova_single_tool) : rewritten to use expr-entry widget
	(anova_two_factor_tool_ok_clicked_cb) : new function
	(anova_two_factor_tool_update_sensitivity_cb) : new function
	(dialog_anova_two_factor_tool_init) : new function
	(dialog_anova_two_factor_tool) : new function replacing 
	  dialog_anova_two_factor_with_r_tool and 
	  dialog_anova_two_factor_without_r_tool to implement them
	  using the expr-entry widget

2001-10-08  J.H.M. Dassen (Ray) <jdassen@debian.org>

	* dialog-analysis-tools.c (tool_help_cb) : seperated help_ref
	declaration and initialisation to fix "initializer element is not
	computable at load time" error.

2001-10-10  Zbigniew Chyla  <cyba@gnome.pl>

	* dialog-search-replace.c (dialog_search): Made search dialog a bit
	more friendly for users navigating with the keyboard.

	* search.glade: ditto

2001-10-09  Almer S. Tigelaar  <almer@gnome.org>

	* cell-format.glade: Add validation and input msg tabs, largely
	migrated from validate.glade.
	
	* dialog-cell-format.c (cb_validation_constraint_type_deactivate): New.
	(cb_validation_operator_deactivate): New.
	(cb_validation_error_action_deactivate): New.
	(fmt_dialog_init_validation_page): New, initialize new validation tab.
	(cb_input_msg_flag_toggled): New.
	(fmt_dialog_init_input_msg_page): New, initialize new input msg tab.
	(cb_fmt_dialog_dialog_destroy): detach guru.
	(cb_fmt_dialog_set_focus): Set focus for expr-entry's.
	(fmt_dialog_impl): Call validation/input msg initialization routines,
	connect set-focus handler, make notebook scrollable, attach guru.

2001-10-07  Jody Goldberg <jgoldberg@home.com>

	* Release 0.71

2001-10-06  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (graph_guru_state_destroy) : disconnect the
	  combo handlers before we destroy the state so that their callbacks
	  don't trigger during destruction.
	(vector_state_set_entry) : merge back into.
	(vector_state_fill) : here.  Use the index rather than a cached
	  xmlNode *.
	(vector_state_new) : rename 'index' to 'dim_index' to be clearer.
	(graph_guru_select_plot) : store the index rather than an xmlNode *.
	(graph_guru_select_series) : store the index rather than an xmlNode *.
	(graph_guru_init_data_page) : the graph caches the spec, not us.
	(graph_guru_get_plot) : new utility.
	(cb_plot_selection_changed) : use the new utility.
	(graph_guru_get_series) : new utility.
	(cb_series_selection_changed) : use the new utility.
	(cb_series_entry_changed) : support lookup, and warn about renaming.
	(cb_plot_entry_changed) : support lookup, and warn about renaming.
	(cb_graph_guru_focus) : use graph_guru_get_series.
	(dialog_graph_guru) : init the combos to NULL in case we destroy
	  before initializing them.
	
2001-10-06  Morten Welinder  <terra@diku.dk>

	* dialog-search-replace.c (dialog_search, dialog_search_notify):
 	New functions (and dialogs).

2001-10-05  Morten Welinder  <terra@diku.dk>

	* dialog-search-replace.c (dialog_search_replace_query): Make sure
 	cancel actually does.

	* Makefile.am: add search dialog.

2001-10-05  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* dialog-analysis-tools.c : implement help buttons for all tools
	* mean-tests.glade : ditto and small capitalization and colon corrections
	* rank.glade : ditto
	* sampling.glade : ditto
	* variance-tests.glade : ditto
	* correlation.glade : ditto
	* covariance.glade : ditto

2001-10-04  Jody Goldberg <jgoldberg@home.com>

	http://bugzilla.gnome.org/show_bug.cgi?id=61742
	* analysis-tools.glade : put all the output radio buttons for
	  histograms in the same group.
	Disable the 'Chart Output' button until we implement it.

2001-10-04  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* Makefile.am : new files mean-tests.glade, variance-tests.glade and sampling.glade
	* dialog-analysis-tools.c (dialog_tool_init) : permit 2 input ranges
	(tool_update_sensitivity_cb ) : ditto
	(dialog_ttest_tool) : new function as a common implementation of
	  the 4 t- and z-tests using the gnumeric-expr-entry widget.
	(ttest_tool_ok_clicked_cb) : ditto
	(ttest_known_toggled_cb) : ditto
	(ttest_paired_toggled_cb) : ditto
	(dialog_ttest_adjust_to_invocation) : ditto
	(dialog_ttest_realized) : ditto
	(dialog_ttest_tool_init) : ditto
	(dialog_ttest_paired_tool) : changed to stub calling dialog_ttest_tool
	(dialog_ttest_eq_tool) : ditto
	(dialog_ttest_neq_tool) : ditto
	(dialog_ztest_tool) : ditto
	(dialog_ftest_tool) : changed to guru with gnumeric-expr-entry widget
	(ftest_tool_ok_clicked_cb) : new function
	(dialog_sampling_tool) : changed to guru with gnumeric-expr-entry widget
	(sampling_tool_update_sensitivity) : new function
	(sampling_tool_ok_clicked_cb) : new function
	(sampling_method_toggled_cb) : new function
	(dialog_sampling_realized) : new function
	(dialog_sampling_tool_init) : new function

2001-10-04  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (graph_guru_select_series) : adjust to changes
	  in the combo_text.
	(graph_guru_select_plot) : ditto.  Use gnm_combo_text_clear.
	  Store the xmlNode for the series with its combo item.
	(graph_guru_init_data_page) : Store the xmlNode for the plot
	  with its combo item.
	(cb_series_selection_changed) : have this do something.
	(cb_plot_entry_changed) : ditto.
	(graph_guru_selector_init) : adjust to changes in the combo_text.

2001-10-03  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* Makefile.am : new files correlation.glade, covariance.glade and
	  rank.glade
	* dialog-analysis-tools.c : rewrite dialog_correlation_tool,
	  dialog_covariance_tool and dialog_ranking_tool to expr-entry widget,
	  affecting a whole bunch of functions, 
	(tool_destroy) : new, replaces desc_stat_tool_destroy
	(cb_tool_cancel_clicked) : new, replaces cb_desc_stat_tool_cancel_clicked
	(tool_set_focus) : new, replaces desc_stat_tool_set_focus
	(tool_set_focus_output_range) : new, replaces desc_stat_tool_set_focus_output_range
	(dialog_tool_init) : new, replaces dialog_desc_stat_tool_init
	(tool_update_sensitivity) : new
	(corr_tool_ok_clicked_cb) : new
	(cov_tool_ok_clicked_cb) : new
	(rank_tool_ok_clicked_cb) : new

2001-10-01  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (cb_graph_guru_focus) : removing an already
	  non-existent dimension is possible in the event that a user changes
	  their mind.

	* dialog-graph-guru.c (vector_state_fill) : split actual setting out
	  into vector_state_set_entry.

2001-10-01  Morten Welinder  <terra@diku.dk>

	* dialog-search-replace.c (dialog_search_replace_query): New
 	(modal) dialog.

2001-10-01  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (vector_state_fill) : Use
	  gnumeric_expr_entry_clear, gnumeric_expr_entry_set_rangesel_from_dep.
	(cb_graph_guru_entry_changed) : flag changes.
	(vector_state_new) : init the new flags and connect he changed signal,
	  and the gtk_object_data.
	(vector_state_destroy) : clear the stored vector.
	(graph_guru_init_data_page) : disable the debug spew.
	(cb_graph_guru_focus) : use window::set_focus in place of
	  focus-{in,out} for each entry.  This is still a stub.
	(graph_guru_init) : connect cb_graph_guru_focus.

2001-09-30  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (vector_state_fill) : Use gnm_graph_series_get_dimension.

2001-09-30  Jody Goldberg <jgoldberg@home.com>

	* analysis-tools.glade : manually tweak the size of the dialog and
	  remove a few loose ends.  We will need to regenerate this with a
	  newer glade after release.

2001-09-29  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (graph_guru_set_page) : clear the current plot.
	(graph_guru_select_plot) : fill in.
	(vector_state_new) : ditto.
	(vector_state_init) : ditto.

2001-09-28  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-cell-comment.c (dialog_cell_comment):
	Make the cell comment dialog user resizable. Fixes #60053

2001-09-27  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* dialog-analysis-tools.c (desc_stat_tool_set_focus_output_range) : 
	  Switch output selection when output range is edited.
	(cb_desc_stat_tool_ok_clicked) : ditto
	(dialog_desc_stat_tool_init) : ditto

2001-09-27  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (dialog_graph_guru) : doh!

2001-09-26  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c : Add a sample for the data page.
	  Make the lists of plots and series.  rewrite the the glade file
	  in preparation for constructing the exprEntries.

2001-09-26  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (cb_protection_locked_toggle) : new.
	(cb_protection_hidden_toggle) : new.
	(fmt_dialog_init_protection_page) : new.
	(fmt_dialog_impl) : call fmt_dialog_init_protection_page.

2001-09-21  Jody Goldberg <jgoldberg@home.com>

	* dialog-formula-guru.c (cb_formula_guru_entry_changed) : fix the
	  handling of empty arguments.

2001-09-14  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (fmt_dialog_init_format_page) : if we are
	  displaying the parse fmt because the assigned fmt is General
	  then select the parse fmt in the dialog.

2001-09-10  Jody Goldberg <jgoldberg@home.com>
	For Wayne Schuller <k_wayne@linuxpower.org>
	* dialog-printer-setup.c (display_hf_sample) : new.
	(header_changed) : use it.
	(footer_changed) : use it.
	(do_setup_hf_menus) : use it.
	(fill_hf) : be smarter.
	(text_insert) : delete.
	(do_hf_config) : Use GtkEntry and setup the Accept links.

2001-09-10  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* descriptive-stats.glade : Add labels.

2001-09-06  Morten Welinder  <terra@diku.dk>

	* dialog-about.c (dialog_about): Kill stale link.

2001-09-04  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (fmt_dialog_impl) : init the border selector
	  with the pattern and colour of the first available border, default
	  to black & THIN if nothing has a border.
	(setup_pattern_button) : improve the interface to simplify selecting
	  the initial button.

2001-09-04  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (picker_style_color) : delete.
	(cb_font_preview_color) : call style_color_new directly.
	(cb_border_color) : rgba was border selector specific.
	  Store it in State::border directly so that none of the other
	  ColorPickers think it is initialized.
	(border_format_has_changed) : ditto.
	(fmt_dialog_impl) : init border.rgba.

2001-08-23  Morten Welinder  <terra@diku.dk>

	* dialog-function-select.c (category_and_function_key_press): Fix
 	signedness problem.

2001-08-23  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (graph_guru_create_vectors_from_range) : Use the
	  new gnm_graph_vector_new interface.
	(cb_data_simple_col_row_toggle) : use gnm_graph_arrange_vectors.

2001-08-20  Jody Goldberg <jgoldberg@home.com>

	* Release 0.70

2001-08-18  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c :  Move the life cycle issues up into
	  gnumeric-graph.

2001-08-15  Jody Goldberg <jgoldberg@home.com>

	* plugin-manager.glade : desensitize the install new plugin button
	  until it is implemented.

2001-08-11  Jody Goldberg <jgoldberg@home.com>

	* Release 0.69

2001-08-01  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (draw_format_preview) : display parse formats
	  for general.
	(dialog_cell_format) : init it here.
	(dialog_cell_number_fmt) : and here.

2001-07-28  Almer S. Tigelaar  <almer@gnome.org>

	* cell-format.glade, font-sel.glade: Slight tweaks.

2001-07-25  Almer S. Tigelaar  <almer@gnome.org>

	* *.glade: Equalize spacing and borders.

2001-07-19  Almer S. Tigelaar  <almer@gnome.org>

 	* function-select.glade: Put the description label inside
 	a scrollable viewport.
 
 	* dialog-function-select.c (category_and_function_key_press): New,
 	handle the selection of a corresponding item when pressing a key
 	in the category or function clist.
 	(function_select_row): Set description.
 	(dialog_function_select_impl): Connect keypress events for the
 	clist's.

	* cell-format.glade: Set border around background
	preview canvas.

	* dialog-cell-format.c (cb_pattern_preview_get_cell_style): New,
	callback to retrieve preview-grid's cell style.
	(draw_pattern_preview): Kill code to create background and pattern,
	just merge with the resulting mstyle if in edit mode and force
	a redraw.
	(cb_back_preview_color): Change color on preview mstyle.
	(cb_pattern_preview_color): Idem.
	(draw_pattern_selected): Idem, but pattern.
	(fmt_dialog_init_background_page): New, initialize the background
	page of the cell format dialog.
	(cb_fmt_dialog_dialog_destroy): Unref preview mstyle and initialize
	canvas and grid to null.
	(fmt_dialog_impl): Call init_background_page.

2001-07-17  Jody Goldberg <jgoldberg@home.com>

	* Release 0.68

2001-07-15  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-stf.[ch] (stf_dialog): Add and set lines member on
	dialogresult.

	* dialog-stf-csv-page.c (stf_dialog_csv_page_prepare): Use
	the importlines for the scrollbar adjustment.

	* dialog-stf-fixed-page.c (stf_dialog_fixed_page_prepare): Idem.
	
2001-07-07  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-autoformat.c (cb_get_row_height): Burn.
	(cb_get_col_width): Burn.
	(cb_get_cell_style): Tidy and cope for new parameters.
	(cb_get_cell_value): Idem.
	(previews_load): Remove setting of callback arguments upon
	preview-grid creation and connect the get_cell_style and
	get_cell_value signals.

2001-07-07  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-cell-format.c (cb_font_changed): Adjust to handle
	new parameters.
	(cb_font_preview_color): Pass to font selector.
	(cb_font_strike_toggle): Idem.
	(cb_font_underline_changed): Idem.
	(fmt_dialog_init_font_page): Initialize the font selector's
	properties correctly including the forecolor.
	No need to set the scaling size anymore.
	(fmt_dialog_init_align_page): Remove superfluous void.

	* font-sel.glade: Replace the GtkEntry previously used for
	previewing with a GnomeCanvas inside a GtkScrolledWindow.

2001-07-05  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-autosave.c (prompt_on_off_toggled): Burn.
	(dialog_autosave): Set status of prompt toggle button properly.
	
2001-06-28  Jody Goldberg <jgoldberg@home>

	* Release 0.67

2001-06-27  Jody Goldberg <jgoldberg@home.com>

	* Release 0.66

2001-06-20  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-printer-setup.c (do_setup_page): No need to
	mutate scaling to a percentage it is already a percentage.
	(do_fetch_page): Idem.

2001-06-18  Karl Eichwalder  <ke@suse.de>

	* dialog-stf-main-page.c (stf_dialog_main_page_init): Typo.

2001-06-11  Jody Goldberg <jgoldberg@home.com>

	* dialog-printer-setup.c (do_fetch_page) : use the scale info and
	  round it correctly.
	(do_setup_page) : ditto.

	* print.glade : partially enable the print scaling.

2001-06-08  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-consolidate.c (dialog_consolidate): Initialize
	source areas list from sheet selections.
	(cb_add_source_area): New, callback for the functionality
	described above.
	(cb_dialog_set_focus): No need for absolute references.
	(cb_areas_select_row): Enable the delete button when a row
	is selected.

2001-06-08  Jody Goldberg <jgoldberg@home.com>

	* dialog-insert-cells.c (dialog_insert_cells) : fix typo.

2001-06-06  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-consolidate.c : Implementation of the consolidation dialog.

	* consolidate.glade : Idem.

2001-06-05  Zbigniew Chyla  <cyba@gnome.pl>

	* Makefile.am (glade_DATA): Removed import.glade.

	* import.glade: Removed.

	* dialogs.h (dialog_query_load_file): Removed.

2001-06-04  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-stf-csv-page.c (csv_page_global_change): Cope for
	changes to csv_set_separators and stf_parse_general.

	* dialog-stf-format-page.c (format_page_update_preview): Idem.

	* dialog-stf-fixed-page.c (fixed_page_update_preview): Idem.

	* dialog-stf-preview.[ch] (stf_preview_render_row): Idem.
	(stf_preview_format_recalc_colwidths): Idem.
	(stf_preview_format_line): Idem.
	(stf_preview_render): Idem.

2001-06-02  Jody Goldberg <jgoldberg@home.com>

	* dialog-stf-preview.c (stf_preview_format_line) : don't leak colour ref
	* dialog-cell-format.c (draw_format_preview) : ditto.

2001-06-03  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-stf.glade: Make length of customfield
	separator infinite.

	* dialog-stf-csv-page.c (csv_page_global_change):
	Set string customseparator instead of char.

	* dialog-stf.h: Define X overflow limit.
	
	* dialog-stf-preview.c (stf_preview_render_row): Really
	truncate strings if they are too long.

	* dialog-stf-main-page.c (stf_dialog_main_page_init): Protect
	against overly large text.

 	* dialog-cell-sort.c (col_row_name):
 	Use row_name.

2001-06-03  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-stf.c (stf_dialog_druid_page_next): Remove cacheoptions.
	
	* dialog-stf-preview.c (stf_preview_merge_with_hash): Remove.
	(stf_preview_hash_item_remove): Idem.
	(stf_preview_free_row): Idem.
	(stf_preview_free): Remove hashtable.
	(stf_preview_new): Idem.
	(stf_preview_render): Free the list that is passed.
	(stf_preview_render_row): Truncate strings if they are too long.
	
	* dialog-stf-csv-page.c (csv_page_global_change): Use
	stf_parse_general.
	(stf_dialog_csv_page_prepare): Remove cacheoptions.
	(stf_dialog_csv_page_init): Idem.
	(stf_dialog_csv_page_cleanup): Idem.

	* dialog-stf-fixed-page.c (fixed_page_update_preview): Use
	stf_parse_general.
	(stf_dialog_fixed_page_prepare): Remove cacheoptions.
	(stf_dialog_fixed_page_cleanup): Idem.
	(stf_dialog_fixed_page_init): Idem.

	* dialog-stf-format-page.c (format_page_update_preview): Use
	stf_parse_general.
	(format_page_scroll_value_changed ): Don't use cacheoptions.
	(format_page_format_changed): Idem.
	(stf_dialog_format_page_prepare): Idem.
	(stf_dialog_format_page_cleanup): Remove cacheoptions.
	(stf_dialog_format_page_init): Idem.

2001-06-02  Almer S. Tigelaar  <almer@gnome.org>

	* colrow.glade: New simple dialog.
	
	* dialog-simple-input.c, dialogs.h
	(dialog_choose_cols_vs_rows): New, let user choose
	between columns or rows.

2001-05-27  Almer S. Tigelaar  <almer@gnome.org>

	* validate.glade: Make non-modal.
	
	* dialog-validate.c (setup_widgets): Use ExprEntry's instead
	of normal entries.
	(dialog_validate): Cope for non-modality of dialog.
	(cb_dialog_destroy): New, clean up when user closes
	the dialog.
	(cb_dialog_set_focus): New, Handle ExprEntry's.
	(cb_dialog_clicked): Handle the dialog buttons.
	(connect_signals): Connect the new signals.

2001-05-27  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-cell-format.c (setup_color_pickers) : Correctly
	initialize color combo depending on the style element.

2001-05-20  Jody Goldberg <jgoldberg@home.com>

	* Release 0.65

2001-05-20  Jody Goldberg <jgoldberg@home.com>

	* dialog-plugin-manager.c (pm_dialog_init) : Correct use of
	  gnome_config_get_bool_with_default.

2001-05-19  Jody Goldberg <jgoldberg@home.com>

	* plugin-manager.glade : convert the vertical scrollbars to
	  autoscroll.

2001-05-18  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-goto-cell.c (dialog_goto_cell): Don't add duplicates
	to the list and add new entries to the front.

2001-05-18  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (draw_format_preview) : be sure to insert
	  spaces after the repeat characters
	(cb_format_currency_select) : Only draw negative samples for number &
	  currency.  Not accounting.

2001-05-15  Jon K Hellan  <hellan@acm.org>
 
 	* dialog-define-names.c (dialog_define_names): Ensure only one
 	guru per workbook.
 
 	* dialog-search-replace.c (dialog_search_replace): Ditto.
 
 	* dialog-printer-setup.c (dialog_printer_setup): Ditto.
 
2001-05-14  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (fmt_dialog_impl) : move the containment logic
	  from here.
	(setup_color_pickers) : to here.  Adjust the aligment and add a frame.

2001-05-14  Almer S. Tigelaar  <almer@gnome.org>
 
 	* dialog-cell-format.c
	(cb_custom_back_selected): Remove, We use colorcombo's now.
 	(cb_auto_color_selected): Idem.
 	(cb_custom_color_selected): Idem.
 	(cb_back_preview_color): Adjust for new colorcombo usage.
 	(cb_pattern_preview_color): Idem.
 	(cb_font_preview_color): Idem.
 	(cb_border_color): Idem.
 	(setup_color_pickers): Change entirely for
 	colorcombo support.
 	(draw_pattern_preview): Remove old colorpicker
 	code and update for the new situation.
 	(fmt_dialog_impl): Update for new situation in
 	case there's no back.
 
2001-05-10  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-advanced-filter.c : include dialogs.h
	to supress warning.
	
	* dialog-cell-sort.c (string_pos_in_list): Cast pointer
	from untyped to char *.

	* dialog-function-wizard.c (formula_guru_set_expr): Fix
	signedness by changing variable decl and some casts.
	(cb_formula_guru_entry_focus_in): Fix signedness by casting,
	we don't want to pollute our data structures with unsigned
	integers.
	(formula_guru_init): Fix signedness by changing decl.

	* dialog-stf-fixed-page.c (fixed_page_autodiscover):
	Fix signedness by changing decl.

	* dialog-stf-preview.c (stf_preview_get_table_pixel_width):
	Fix signedness by changing decl.
	(stf_preview_colformats_clear): Idem.
	(stf_preview_get_column_at_x): Idem.
	(stf_preview_get_column_border_at_x): Idem.
	(stf_preview_get_char_at_x): Idem.

	* dialog-summary.c (dialog_summary_update): Fix signedness by
	cast.

2001-05-10  Jon K Hellan  <hellan@acm.org>

	* dialog-search-replace.c: Fix include file typo.

2001-05-09  Jon K Hellan  <hellan@acm.org>

	* search-replace.glade: Rename hbox holding range field from hbox2
	to range-hbox. Remove range combo, let C code add it on the fly.

	* dialog-search-replace.c (ok_clicked): Get text from widget
	stored in context.
	(dialog_destroy): Detach guru.
	(set_focus): New function. Redirect workbook input when an
	ExprEntry receives focus. Reset when another type of widget
	receives focus.
	(range_focused): New function. Set "range" radio button active
	when focus enters range field.
	(non_model_dialog): Use gnumeric_keyed_dialog.
	(dialog_search_replace): Raise existing s+r dialog if there is
	one.  Add ExprEntry widget on the fly to hold range. Add focus
	handlers set_focus and range_focused. Attach scg to ExprEntry and
	dialog to workbook as guru.

2001-05-08  Jody Goldberg <jgoldberg@home.com>

	* dialog-advanced-filter.c : cleanup includes.

2001-05-06  Morten Welinder  <terra@diku.dk>

	* dialog-cell-sort.c (order_box_get_text, string_pos_in_list):
 	Constify.
	(dialog_cell_sort_ok): Plug leak.

2001-05-06  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (fmt_dialog_selection_type) : If the selected
	  range is a single merged cell don't display as multi cols/rows.

2001-05-04  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-sort.c (dialog_cell_sort_ok) : changes to selection_is_simple.

	* dialog-graph-guru.c (graph_guru_init_vectors) : use
	  selection_first_range rather than selection_is_simple.  Use some of
	  the new range_ convenience routines.

	* dialog-delete-cells.c (dialog_delete_cells_impl) : Pass range in.
	(dialog_delete_cells) : use selection_first_range rather than
	  selection_is_simple.  Use some of the new range_ convenience
	  routines.

	* dialog-insert-cells.c (dialog_insert_cells_impl) : Pass range in.
	(dialog_insert_cells) : use selection_first_range rather than
	  selection_is_simple.  Use some of the new range_ convenience
	  routines.

	* dialog-paste-special.c (dialog_paste_special) : paste link is not
	  the same as paste content.

2001-05-04  Jon K Hellan  <hellan@acm.org>

	* hf-config.glade: Set this one invisible, too.

	* dialog-stf-export.glade: Set invisible to avoid flicker when
	popping up.

2001-05-04  Jon K Hellan  <hellan@acm.org>

 	* dialog-printer-setup.c (struct PrinterSetupState) : Add
 	ExprEntry widgets.
 	(do_setup_page_info): Add ExprEntry widgets on the fly.
 	(do_print_cb): Close print setup dialog before displaying print
 	dialog. FIXME.
 	(do_print_preview_cb): No longer close the dialog.
 	(do_print_cancel_cb): New function. Close the dialog.
 	(do_print_ok_cb): New function. Save info and close the dialog.
 	(do_print_set_focus_cb): New function. Enable range selection when
 	an ExprEntry acquires focus.
 	(do_setup_main_dialog): Clean up dead code. Attach callbacks to
 	"ok", "cancel", "set-focus" and "destroy". Attach guru.
 	(printer_setup_state_free): Move just after
 	printer_setup_state_new. Set conversion_listeners member to NULL
 	after freeing list.
 	(do_fetch_page_info): top_entry and left_entry widgets are now
 	taken from state rather than glade_xml_get_widget.
 	(dialog_printer_setup): Eliminate recursive mainloop.
 
2001-05-04  Jon K Hellan  <hellan@acm.org>

	* dialog-workbook-attr.c (attr_dialog_impl): Back out change
	below. Looks like <title> in glade file doesn't work for property
	dialogs. 

	* workbook-attr.glade: Don't set title here after all. It has no
	effect. 

2001-05-04  Almer S. Tigelaar  <almer@gnome.org>

	* hf-config.glade: Set window title.
	* search-replace.glade: Idem.
	* workbook-attr.glade: Idem.
	
	* autoformat.glade: Correct window title.
	* dialog-stf-export.glade: Idem.
	* validate.glade: Idem.
	* solver.glade: Idem and some minor polishing.
	
	* dialog-workbook-attr.c: Don't set the window title
	with gtk_window_set_title, it's in the glade file anyway.

2001-05-04  Almer S. Tigelaar  <almer@gnome.org>

	* names.glade: Set window title.

2001-05-03  Jon K Hellan  <hellan@acm.org>

	* dialog-define-names.c (name_guru_init): Use
	gnumeric_keyed_dialog rather than gnumeric_non_modal_dialog.
	(dialog_define_names): Use (gnumeric_dialog_raise_if_exists to
	ensure that only one instance at a time can be displayed for a
	wbcg.

2001-04-29  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-zoom.c (dialog_zoom_impl): Use cmd_zoom.

2001-04-26  Jody Goldberg <jgoldberg@home.com>

	* dialog-goal-seek.c (goal_seek_eval) : Merge in some of boc's
	  portability patch.

2001-04-26  Morten Welinder  <terra@diku.dk>

	* dialog-solver.c (dialog_solver): Plug leak.

2001-04-23  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-define-names.c (cb_name_guru_add):
	Correct use of expr_parse_string.

2001-04-19  Jody Goldberg <jgoldberg@home.com>

	* dialog-stf-export-sheet-page.c (stf_export_dialog_sheet_page_init) :
	  Free the list of sheets.
	* dialog-sheet-order.c (populate_sheet_clist) : Ditto.

2001-04-18  Jon K Hellan  <hellan@acm.org>

	* dialog-define-names.c (name_guru_init): Remove commented out stuff.
	(cb_name_guru_value_focus): Remove to eliminate warning.
	
2001-04-18  Morten Welinder  <terra@diku.dk>

	* dialog-define-names.c (cb_name_guru_destroy): Leak fix from Jon
 	Kaare.

2001-04-18 Jon K Hellan  <hellan@acm.org>

	* dialog-define-names.c (struct NameGuruState): Change type of
	expr_text to GnumericExprEntry.
	(name_guru_set_expr, name_guru_update_sensitivity,
	name_guru_set_expr, cb_name_guru_add): expr_text must now be cast
	to GTK_ENTRY.
	(cb_name_guru_value_focus): Use
	gnumeric_expr_entry_set_absolute. w argument is now expected to be
	a GnumericExprEntry.
	(cb_name_guru_set_focus): New function. Make anted selection go
	away when a widget other than expr_text receives focus.
	(name_guru_init): Create a GnumericExprEntry and insert in the
	dialog. Attach it to the current sheet. Connect
	cb_name_guru_set_focus to dialog's set-focus signal, and remove
	the focus-in handler from name_value.

	* dialog-function-wizard.c (struct ArgumentState): Change type of
	entry to GnumericExprEntry.
	(formula_guru_set_expr): Change type of new_entry to
	GnumericExprEntry. Cast to GTK_ENTRY where necessary.
	(formula_guru_set_expr, cb_formula_guru_rolled_entry_changed,
	cb_formula_guru_entry_changed, formula_guru_init):
	ArgumentState->entry must now be cast to GTK_ENTRY.
	(formula_guru_set_rolled_state): Change type of new_entry to
	GnumericExprEntry. Cast to GTK_ENTRY where necessary.
	(formula_guru_arg_new): Create a GnumericExprEntry instead of a
	GtkEntry and insert in the dialog. Attach it to the current sheet.
	(formula_guru_init): Create a GnumericExprEntry for rolled_entry
	and insert in the dialog. Attach it to the current sheet.
	(dialog_formula_guru): Value returned by workbook_get_entry must
	now be cast to GTK_ENTRY.

	* formula-guru.glade: Remove 'rolled_entry' GtkEntry. A
	GnumericExprEntry is now added at runtime instead.

	* names.glade: Remove 'expr_text' GtkEntry. A GnumericExprEntry is
	now added at runtime instead.

2001-04-14  Almer S. Tigelaar  <almer@gnome.org>

	* dialog-autoformat.c (previews_load) : Create previewgrid and
	rectangles here. Preview-grid-controller is no longer.
	(previews_free) : Idem but destruct.
	(cb_apply_item_toggled) : Use gnome_canvas_request_redraw instead
	of preview_grid_controller_force_redraw.
	(cb_get_cell_style) : Renamed from cb_get_style.
	(cb_get_cell_value) : Renamed from cb_get_cell.

2001-04-09  Jody Goldberg <jgoldberg@home.com>

	* src/dialogs/dialog-define-names.c (cb_name_guru_add) : Handle people
	  putting '=' at the start of an expression.
	  s/value/expr_text/

2001-03-23  Almer S. Tigelaar  <almer@gnome.org>

	* names.glade: Set visibility to NO, this solves the ugly
	flickering that occurred.

2001-03-22  Morten Welinder  <terra@diku.dk>

	* search-replace.glade: Work around libglade bug.  (Having
 	identical widget names in different dialogs does not work.)

2001-03-21  Zbigniew Chyla  <cyba@gnome.pl>

	* dialog-plugin-manager.c
	(plugin_compare_name): New function
	(update_plugin_manager_view): Sorting plugin list.

2001-03-18  Almer S. Tigelaar  <almer@gnome.org>

	* validate.glade : Polish.
	
	* dialog-validate.c :
	(cb_set_constraint_type_deactive) : Also de-activate labels and clean-up a bit.
	(cb_input_flag_toggled) : clean-up.
	(cb_error_flag_toggled) : idem.
	(setup_widgets) : Initialize some new widgets added to validate.glade
	(connect_signals) : Add signal for error_action.
	(cb_error_action_deactivate) : New, the signal handler for error_action,
	will load a pixmap representating the action to be taken.
	(dialog_validate) : Initialize the error_action pixmap by calling the
	cb_error_action_deactivate callback.

2001-03-17  Jody Goldberg <jgoldberg@home.com>

	* Release 0.64

2001-03-16  Zbigniew Chyla  <cyba@gnome.pl>

	* src/dialogs/dialog-plugin-manager.c
	(update_plugin_details_view): Always clear extra info CList.
	(update_plugin_details_view): Don't enable/disable plugin details
	notebook page here.
	(cb_pm_clist_row_selected): Do it here...
	(cb_pm_clist_row_unselected): ... here
	(update_plugin_manager_view): ... and here

2001-03-11  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-sort.c (dialog_cell_sort_ok) : sneaky.  To avoid
	  freeing the range multiple times or leaking copy it here.

2001-03-08  Jody Goldberg <jgoldberg@home.com>

	* dialog-solver.c (constr_change_click) : move selected_row into the
	  state variable.  The static was bogus.
	(constr_delete_click) : Use the selected_row in the state variable and
	  clear it when things are deleted.  Why do we even need this ??
	(constraint_select_click) : use selected_row in the state var.
	(dialog_solver) : init the selected_row var.

2001-03-04  Almer S. Tigelaar  <almer@gnome.org>

	* validate.glade : Improve.

	* dialog-validate.c : Implement.

	* dialogs.h : Add dialog-validate entry point here.

2001-02-24  Morten Welinder  <terra@diku.dk>

	* dialog-search-replace.c (dialog_search_replace): Rework to be
 	non-modal.

2001-02-24  Almer S. Tigelaar  <almer@gnome.org>

	* search-replace.glade : Add spacing.

2001-02-23  Jody Goldberg <jgoldberg@home.com>

	* Release 0.63

2001-02-20  Morten Welinder  <terra@diku.dk>

	* dialog-analysis-tools.c (dialog_regression_tool): Fix error
 	messages.
	(parse_multiple_ranges): Fix overflows.  (Needs rewrite.)

2001-02-19  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (cb_indent_changed) : enable.

2001-02-18  Almer S. Tigelaar  <almer1@dds.nl>

	* dialog-plugin-manager.c (dialog_plugin_manager) :
	Make clist column headers passive.

2001-02-17  Chema Celorio  <chema@celorio.com>

	* cell-format.glade: fix a bug for the indent spin button
	in which the sensitivity could not be turned on

2001-02-16  Jody Goldberg <jgoldberg@home.com>

	* Release 0.62

2001-02-13  Jody Goldberg <jgoldberg@home.com>

	* summary.glade : remove a newline in the glade file

2001-02-11  Karl Eichwalder  <ke@suse.de>

	* search-replace.glade: s/behaviour/behavior/ .
	* dialog-stf.glade: Add dots to tooltips.

2001-02-11  Jody Goldberg <jgoldberg@home.com>

	* cell-format.glade : Remove the merge cell button untill gtk2.0

2001-02-10  Jon K Hellan  <hellan@acm.org>

	* dialog-printer-setup.c (do_fetch_margins, do_setup_margin):
	Header, not top margin, should be top of header area and footer,
	not bottom margin, should be top of footer area.

2001-01-23  Morten Welinder  <terra@diku.dk>

	* dialog-search-replace.c (dialog_search_replace): Renamed dialog
 	in glade file.  Follow up here.

2001-01-22  Morten Welinder  <terra@diku.dk>

	* dialog-search-replace.c (dialog_search_replace): Handle the new
 	ignore-case and whole-word checkbuttons.  Handle the new
 	preserve-case checkbutton (though the actual replacement code does
 	not yet).

	* Makefile.am (INCLUDES): Prefer our .h files over the systems.

2001-01-17  Morten Welinder  <terra@diku.dk>

	* dialog-search-replace.c (dialog_search_replace): Extract the
 	entered values.

2001-01-11  Morten Welinder  <terra@diku.dk>

	* dialogs.h (dialog_search_replace): prototype.
	* dialog-search-replace.h: New file.
	* dialog-search-replace.c: New file.
	* search-replace.glade: New file.

2001-01-05  Jody Goldberg <jgoldberg@home.com>

	* Makefile.am : Add validate.glade

2001-01-05  Jon K Hellan  <hellan@acm.org>

	* import.glade, plugin-manager.glade, analysis-tools.glade
	(AnalysisTools): Use browse selection mode in list.

2000-12-27  Jody Goldberg <jgoldberg@home.com>

	* dialog-define-names.c (cb_name_guru_add) : bug 36049
	  for now assume that all names are reltive to A1.

2000-12-20  Jody Goldberg <jgoldberg@home.com>

	* dialog-delete-cells.c (dialog_delete_cells) : move test for
	  simplicity later.
	* dialog-insert-cells.c (dialog_insert_cells) : move test for
	  simplicity later.

	* dialog-cell-sort.c (dialog_cell_sort) : fix leak.

2000-12-19  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (fmt_dialog_changed) : optionally virtualize.
	(dialog_cell_number_fmt) : new entry point to get justthe number
	  format page.

2000-12-17 Jody Goldberg <jgoldberg@home.com>

	* Release 0.61

2000-12-09  Chema Celorio  <chema@celorio.com>

	* dialog-define-names.c: add NameGuruScope enums
	(name_guru_warn): warn when deleting a name that is being used
	(name_guru_scope_change): handle scope changes
	(name_guru_set_expr): implement.
	(name_guru_clear_selection): implement
	(name_guru_in_list): implement
	(name_guru_update_sensitivity): implement.
	(cb_name_guru_select_name): clean
	(name_guru_scope_get): implement
	(cb_name_guru_add): fix
	(name_guru_init): connect sensitivy after (see comment in code)

2000-12-7  Jody Goldberg <jgoldberg@home.com>

        * Release 0.60

2000-12-06  Jody Goldberg <jgoldberg@home.com>

	* dialog-stf-preview.c (stf_preview_format_recalc_colwidths) : Avoid
	  ansi violation.

	* dialog-printer-setup.c (do_fetch_page_info) : Fix const problem.

2000-12-04  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (border_event) : Bug 34152.

2000-11-20  Morten Welinder  <terra@diku.dk>

	* dialog-autoformat.c (cb_get_cell_content): Constify.
	(setup_apply_item): Constify.
	(templates_load): Move error check earlier to avoid crash, should
 	it ever fire.  Constify.

2000-11-18  Jody Goldberg <jgoldberg@home.com>

	* Release 0.59

2000-11-16  Michael Meeks  <michael@helixcode.com>

	* dialog-cell-sort.c (dialog_cell_sort_header_toggled): 
	remove redundant g_list_copies.
	(string_pos_in_list): re-write, was horrendoulsy inefficient.
	(col_row_name_list): upd.
	(col_row_name): g_strdup not strdup, gack, make it output
	sensible column names again as well, and Row-%d instead of just
	a number.

2000-11-15  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-sort.c (col_row_name) : merged from column_name, row_name.
	  Use the displayed text rather than the entered text.
	(col_row_name_list) : merged from column_name_list, row_name_list.

2000-11-13  Jody Goldberg <jgoldberg@home.com>

        * Release 0.58

2000-11-06  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (graph_guru_init) : No need to reference th
	  BonoboControl.  The widget manages things.

2000-11-01  Jon K Hellan  <hellan@acm.org>

	* dialog-cell-sort.c (dialog_cell_sort_ok): Call cmd_sort with
	workbook control as parameter. NULL was used.

2000-10-21  Jon K Hellan  <hellan@acm.org>

	* dialogs.h (enum FormatDialogPosition_t): Define.
	(dialog_cell_format): Added pageno parameter.

	* dialog-cell-format.c (dialog_cell_format): Ditto.
	(fmt_dialog_impl): Ditto. Use it to select page.

2000-10-10  Jody Goldberg <jgoldberg@home.com>

        * Release 0.57

2000-10-04  Jon K Hellan  <hellan@acm.org>

	* dialog-printer-setup.c (struct dialog_print_info_t): Added
	members 'orientation' and 'current_orientation' to enable us to
	update orientation of preview page.
	(get_paper_pswidth): New wrapper function. Return paper width in
	points, taking page orientation into account.
	(get_paper_psheight): s/width/height/.
	(get_printable_width): Use get_paper_pswidth.
	(get_printable_height): Use get_paper_psheight.
	(preview_page_create): Use both of them. This gives us a landscape
	format preview when landscape is selected.
	(canvas_update): Redraw preview page also if orientation has
	changed.
	(orientation_changed): New callback function. Switches the
	orientation of the preview page.
	(do_setup_page): Save a copy of dpi->pi->orientation in
	dpi->orientation. Rationale: dpi->orientation will reflect the
	state of the orientation radio buttons. Changes to
	dpi->pi->orientation would persist in the sheet, even if user
	cancelled, so we need a separate data member.
	Connect orientation_changed callback to landscape radio_button.
	(dialog_print_info_new): Initialize dpi->current_paper and
	dpi->current_orientation.

2000-09-28  Jody Goldberg <jgoldberg@home.com>

	* dialog-printer-setup.c (add_unit) : Adjsutto api change in
	  unit_name_get_short_name.

2000-09-27  Morten Welinder  <terra@diku.dk>

	* dialog-printer-setup.c (add_unit): Avoid double translation of
 	the unit name.
	(do_convert): Don't corrupt the values.  Someone needs to check
 	that what we do to the gtk_adjustment -- here and elsewhere -- is
 	right.

2000-09-24    <michael@thomas.home>

	* dialog-graph-guru.c (cb_graph_guru_clicked): update to item container.

2000-09-20  JP Rosevear  <jpr@helixcode.com>

	* dialog-workbook-attr.c (cb_attr_dialog_dialog_destroy): Disconnect
	the page change signal here.
	(attr_dialog_impl): Don't hook up a notebook destroy signal

2000-09-20  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (fillin_negative_samples) : Use locale specific
	  decimal and thousand separator in the negative preview.

	* dialog-graph-guru.c (get_selector_control) : Hande idl name changes.
	(cb_create_series_from_range) : Be smart about col/row headers.

2000-09-19  Morten Welinder  <terra@diku.dk>

	* dialog-stf-format-page.c (format_page_format_changed): Don't
 	free new_fmt until we are done with it.

2000-09-18  Jody Goldberg <jgoldberg@home.com>

	* cell-format.glade : Set the descriptive string for cell protection
	  to wrap.  This avoids ugly dialogs when in a different locale.

	* dialog-solver.c (dialog_solver) : No need to create a cell manually
	  and fill with empty.  sheet_cell_fetch will handle that.

	* dialog-goal-seek.c (dialog_goal_seek) : No need to create cell
	  locally.
	(gnumeric_goal_seek) : Update size, span, and status region for the
	  cell that was being tweaked.  While solving we did not update it.

2000-09-17  Morten Welinder  <terra@diku.dk>

	* dialog-autoformat.c (dialog_autoformat): Free "info" only when
 	done with it.  Free tooltips using unref, not plain g_free.

2000-09-10  Miguel de Icaza  <miguel@helixcode.com>

	* dialog-paste-special.c (dialog_paste_special): Changed the
	ordering of the buttons for consistency.

2000-08-22  Jody Goldberg <jgoldberg@home.com>

	* dialog-printer-setup.c (do_fetch_page_info) : Bug 21674.

2000-08-30  Jon K Hellan  <hellan@acm.org>

	* dialog-printer-setup.c (get_printable_height): Remove misleading
	comment.

2000-07-22  Michael Meeks  <michael@helixcode.com>

	* dialog-cell-format.c (cb_font_changed): update.

2000-07-22  Karl Eichwalder  <ke@suse.de>

	* dialog-analysis-tools.c (dialog_histogram_tool): Normalize string.

2000-07-15  Jody Goldberg <jgoldberg@home.com>

	* dialog-define-names.c (name_guru_populate_list) : Lookup sheet local
	  names too.
	(cb_name_guru_add) : Parse at the edit position.

2000-07-09  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (cb_font_changed) : Update to handle new
	  gnome-print encapsulation.

2000-07-04  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (formula_guru_set_rolled_state) : Functions
	  with no args cannot be rolled.
	(cb_formula_guru_clicked) : Disengage the guru before finishing the
	  edit.  Then manually destroy the dialog.  If we do not do this the
	  act of finished editing destroy the guru too early, and we ignore
	  the input.

	* names.glade : Use GtkDialog rather than GnomeDialog
	* dialog-define-names.c (name_guru_init) : Use
	  gnumeric_non_modal_dialog now that we are using GtkDialog rather
	  than GnomeDialog.

2000-07-03  Jody Goldberg <jgoldberg@home.com>

	* dialog-define-names.c (cb_name_guru_value_focus) : suppress warning.

2000-07-03  Morten Welinder  <terra@diku.dk>

	* dialog-stf-format-page.c (format_page_format_changed): Plug
 	leak.

	* dialog-stf-preview.c (stf_preview_colformats_add): Change to
 	take a StyleFormat *.  All callers changed.

	* dialog-stf.c (stf_dialog_result_free): Use style_format_unref
 	since the character strings were replaced by StyleFormats.

2000-07-02  Jody Goldberg <jgoldberg@home.com>

	* dialog-define-names.c : Remove a few glitches so that things no
	  longer crash.  They still suck. But at least they no longer crash.

2000-07-01  Morten Welinder  <terra@diku.dk>

	* dialog-plugin-manager.c (refresh_right_frame): Use time_t, not
 	long for times.  Make sure to delete the right character ('\n'),
 	not an arbitrary one.

2000-06-30  Morten Welinder  <terra@diku.dk>

	* dialog-solver.c (dialog_results): Initialise
 	keep_solver_solution.
	(dialog_solver): Remove buffer overflow.  Mark string for
 	translation.  Call free_original_values to plug leak.  Remove
 	several bogus casts.
	(constr_change_click): Remove buffer overflow.
	(free_original_values): New function.

	* dialog-autocorrect.c (add_fl_clicked): Use g_strdup.
	(add_in_clicked): Ditto.

2000-06-28  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (cb_formula_guru_entry_event) : Return FALSE.
	  We are not actually handling the event, just ensuring the display is
	  up to date.

2000-06-28  Jody Goldberg <jgoldberg@home.com>

	* dialog-define-names.c : Begin to rework in order to support
	  different scopes.

2000-06-20  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (cb_formula_guru_entry_focus_in) : Enable
	  autoscrolling.  Remove the gtk_widget_destroy calls, they appear to
	  generate warnings.

2000-06-18  Jody Goldberg <jgoldberg@home.com>

        * Release 0.56

2000-06-19  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (formula_guru_set_expr) : We need to
	  manually trigger a changed event after setting the position becuase
	  pre-gtk-1.4 setting the text reset the cursor position to 0.
	(cb_formula_guru_entry_event) : new function.
	(cb_formula_guru_rolled_entry_event) : new function.

2000-06-19  Jon K Hellan  <hellan@acm.org>

	* dialog-function-wizard.c (cb_formula_guru_entry_focus_in): Make
	"OK" button default.

2000-06-19  Kjartan Maraas  <kmaraas@gnome.org>

	* print-glade.h: Add comment to please xgettext.
	
2000-06-19  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (formula_guru_init) : Move the expression
	  initialization out of args_init so that it will work for varargs
	  too.

2000-06-18  Jody Goldberg <jgoldberg@home.com>

        * Release 0.55

	* Makefile.am : add dialog-autocorrect.h

2000-06-18  Jon K Hellan  <hellan@acm.org>

	* dialog-function-select.c (dialog_function_select_impl): Make
	column titles passive. Do not close on help.
	(function_select_row): Make double click in function column mean
	"OK".

	* function-select.glade: Change to browse select in the
	lists. Move help button to the far right. Make it insensitive.
	
	* formula-guru.glade: Make help button insensitive.

2000-06-18  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (cb_formula_guru_entry_focus_in) :
	  Use the same number of args as the default for var args as for the
	  max visibility.
	(formula_guru_init_args) : Handle varargs here.
	(dialog_formula_guru) : Not here.

2000-06-18  Jon K Hellan  <hellan@acm.org>

	* dialog-function-wizard.c (formula_guru_arg_new): Use constant
	MAX_ARGS_DISPLAYED for max # of args to display.
	(formula_guru_init): Initialize
	arg-requisition. 
	(formula_guru_set_scrollwin_size): Better way to check if we have
	already checked the table size.

2000-06-17  Jon K Hellan  <hellan@acm.org>

	* dialog-function-wizard.c (struct _FormulaGuruState,
	formula_guru_set_expr, cb_formula_guru_rolled_entry_changed,
	formula_guru_set_rolled_state, cb_formula_guru_entry_focus_in,
	cb_formula_guru_destroy, cb_formula_guru_key_press,
	cb_formula_guru_clicked, formula_guru_arg_delete,
	formula_guru_arg_new, formula_guru_init_args,
	formula_guru_init_button, formula_guru_init, dialog_formula_guru,
	dialog_formula_guru): s/FomulaGuruState/FormulaGuruState/
	(cb_formula_guru_key_press): New callback. Close guru on Esc.
	(formula_guru_init): Connect it.
	(formula_guru_set_rolled_state, dialog_formula_guru): Set focus to
	current entry.
	(formula_guru_set_rolled_state, formula_guru_arg_new): Make <Ret>
	in entry fields mean "OK".
	(formula_guru_arg_new): Record table size once we have four
	arguments.
	(formula_guru_set_scrollwin_size): New static function. Record
	table size if we haven't already done so. Set scrolled window size
	to recorded requisition for table. The upshot is that with <= 4
	arguments, the size of the argument frame is exactly right. With
	more, the viewport of the scrolled window shows 4.
	(formula_guru_init): Show dialog - needed since it is set
	invisible in glade file.

	* formula-guru.glade: Set guru invisible in glade file - reduces
	flicker. Set scrolled window border size to 4.

2000-06-17  Jon K Hellan  <hellan@acm.org>

	* formula-guru.glade: Allow auto-shrink - it's exactly what we
	want.

2000-06-15  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (cb_formula_guru_entry_focus_in) :
	  Use gtk_container_remove instead of gtk_object_destroy.
	  To avoid leaks.
	(cb_formula_guru_destroy) : We do want to release the memory from the
	  array.
	(formula_guru_init) : Do not show_all here.
	(dialog_formula_guru) : Do it here after we potentially add extra args.

2000-06-15  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c : Switch back to using a table.
	  Support editing an existing expression.

2000-06-15  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c : Gladify and add roll up/down
	  automatic entry addition/deletion for varargs.

2000-06-15  JP Rosevear  <jpr@arcavia.com>

	* cell-sort.glade: Tidy the UI

	* dialog-cell-sort.c (order_box_new): Make the clause boxes look
	a little nicer.

2000-06-13  Morten Welinder  <terra@diku.dk>

	* dialog-stf-format-page.c (format_page_format_changed): Plug
 	leak.

2000-06-13  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-select.c (dialog_function_select_impl) : Plug leak.

	* dialog-function-wizard.c : Major overhaul to support non-modality
	  and selecting ranges using the mouse.  Lots of work remains.

2000-06-12  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (fmt_dialog_enable_widgets) : Currency formats
	  always have thousands separators.

2000-06-13  Jon K Hellan  <hellan@acm.org>

	* print.glade(.h)?: No automatic support in Glade/libglade for
	underline accelerators in buttons in action area. Remove them from
	Print, Print Preview and option buttons.

	* dialog-printer-setup.c (do_setup_margin): Convert from Excel
	semantics for header/footer - measured from top/bottom of sheet -
	to measuring from bottom of top margin/top of bottom margin.
	(do_fetch_margins): And vice versa.
	(do_setup_main_dialog): Silence warning.

2000-06-12  JP Rosevear  <jpr@arcavia.com>

	* dialog-cell-sort.c (dialog_cell_sort_ok): If the region has a
	header, setup the dialog appropriately.

2000-06-11  Jon K Hellan  <hellan@acm.org>

	* dialog-cell-format.c (line_info[]): Add explanatory comment.
	(draw_border_preview): Fix typos. Wrong symbolic define was being
	used, but the numbers were the same, so the result was correct.

2000-06-08  ERDI Gergo  <cactus@cactus.rulez.org>

	* src/dialogs/dialog-printer-setup.c (unit_editor_configure):
	Fixed a possible memory leak (callback data was not freed)

2000-06-06  Miguel de Icaza  <miguel@helixcode.com>

	* dialog-autocorrect.c (autocorrect_tool): Duplicate return string here.

2000-06-06  JP Rosevear  <jpr@arcavia.com>

	* cell-sort.glade: GUI tidying

	* dialog-cell-sort.c (dialog_cell_sort_ok): Reflect sorting changes
	(dialog_cell_sort_del_clause): ditto
	(dialog_cell_sort_header_toggled): ditto
	(dialog_cell_sort): ditto
	
2000-06-04  Miguel de Icaza  <miguel@helixcode.com>

	* dialog-function-wizard.c (dialog_function_druid): Use
	workbook_get_entry here.

	* dialog-printer-setup.c (spin_button_adapt_to_unit): Added
	g_assert_not_reached ();

2000-06-02  Jon K Hellan  <hellan@acm.org>

	* dialog-autocorrect.c: #include dialog-autocorrect.h to silence
	warning.

	* dialog-printer-setup.c (spin_button_adapt_to_unit): Add default
	clause to switch in order to silence warning.

	* dialogs.h: Define key for storing about dialog as object data
	on the workbook window.

2000-05-29  Jody Goldberg <jgoldberg@home.com>

	* dialog-analysis-tools.c (add_check_buttons) : Translate the parm
	  label.
	(add_output_frame) : Translate the frame label.
	(dialog_descriptive_stat_tool) : Translate the buttons.
	(distribution_parbox_config) : Ditto.
	(combo_get_distribution) : Handle translation.
	(dialog_random_tool) : Translate elements.
	(dialog_data_analysis) : Ditto.

	* dialog-stf.glade{,.h} : adjust to the fact that glade files are
	  versioned.  Remove the default labels from the Clists, they
	  were being translated.
	* dialog-stf-export.glade{,.h} :  Ditto.

	* font-sel.glade{,.h} : Remove default labels from Clists.

	* import.glade{,.h} : Ditto.

