2000-11-13  Jody Goldberg <jgoldberg@home.com>

        * Release 0.58

2000-11-06  Jody Goldberg <jgoldberg@home.com>

	* dialog-graph-guru.c (graph_guru_init) : No need to reference th
	  BonoboControl.  The widget manages things.

2000-11-01  Jon K Hellan  <hellan@acm.org>

	* dialog-cell-sort.c (dialog_cell_sort_ok): Call cmd_sort with
	workbook control as parameter. NULL was used.

2000-10-21  Jon K Hellan  <hellan@acm.org>

	* dialogs.h (enum FormatDialogPosition_t): Define.
	(dialog_cell_format): Added pageno parameter.

	* dialog-cell-format.c (dialog_cell_format): Ditto.
	(fmt_dialog_impl): Ditto. Use it to select page.

2000-10-10  Jody Goldberg <jgoldberg@home.com>

        * Release 0.57

2000-10-04  Jon K Hellan  <hellan@acm.org>

	* dialog-printer-setup.c (struct dialog_print_info_t): Added
	members 'orientation' and 'current_orientation' to enable us to
	update orientation of preview page.
	(get_paper_pswidth): New wrapper function. Return paper width in
	points, taking page orientation into account.
	(get_paper_psheight): s/width/height/.
	(get_printable_width): Use get_paper_pswidth.
	(get_printable_height): Use get_paper_psheight.
	(preview_page_create): Use both of them. This gives us a landscape
	format preview when landscape is selected.
	(canvas_update): Redraw preview page also if orientation has
	changed.
	(orientation_changed): New callback function. Switches the
	orientation of the preview page.
	(do_setup_page): Save a copy of dpi->pi->orientation in
	dpi->orientation. Rationale: dpi->orientation will reflect the
	state of the orientation radio buttons. Changes to
	dpi->pi->orientation would persist in the sheet, even if user
	cancelled, so we need a separate data member.
	Connect orientation_changed callback to landscape radio_button.
	(dialog_print_info_new): Initialize dpi->current_paper and
	dpi->current_orientation.

2000-09-28  Jody Goldberg <jgoldberg@home.com>

	* dialog-printer-setup.c (add_unit) : Adjsutto api change in
	  unit_name_get_short_name.

2000-09-27  Morten Welinder  <terra@diku.dk>

	* dialog-printer-setup.c (add_unit): Avoid double translation of
 	the unit name.
	(do_convert): Don't corrupt the values.  Someone needs to check
 	that what we do to the gtk_adjustment -- here and elsewhere -- is
 	right.

2000-09-24    <michael@thomas.home>

	* dialog-graph-guru.c (cb_graph_guru_clicked): update to item container.

2000-09-20  JP Rosevear  <jpr@helixcode.com>

	* dialog-workbook-attr.c (cb_attr_dialog_dialog_destroy): Disconnect
	the page change signal here.
	(attr_dialog_impl): Don't hook up a notebook destroy signal

2000-09-20  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (fillin_negative_samples) : Use locale specific
	  decimal and thousand seperator in the negative preview.

	* dialog-graph-guru.c (get_selector_control) : Hande idl name changes.
	(cb_create_series_from_range) : Be smart about col/row headers.

2000-09-19  Morten Welinder  <terra@diku.dk>

	* dialog-stf-format-page.c (format_page_format_changed): Don't
 	free new_fmt until we are done with it.

2000-09-18  Jody Goldberg <jgoldberg@home.com>

	* cell-format.glade : Set the descriptive string for cell protection
	  to wrap.  This avoids ugly dialogs when in a different locale.

	* dialog-solver.c (dialog_solver) : No need to create a cell manually
	  and fill with empty.  sheet_cell_fetch will handle that.

	* dialog-goal-seek.c (dialog_goal_seek) : No need to create cell
	  locally.
	(gnumeric_goal_seek) : Update size, span, and status region for the
	  cell that was being tweaked.  While solving we did not update it.

2000-09-17  Morten Welinder  <terra@diku.dk>

	* dialog-autoformat.c (dialog_autoformat): Free "info" only when
 	done with it.  Free tooltips using unref, not plain g_free.

2000-09-10  Miguel de Icaza  <miguel@helixcode.com>

	* dialog-paste-special.c (dialog_paste_special): Changed the
	ordering of the buttons for consistency.

2000-08-22  Jody Goldberg <jgoldberg@home.com>

	* dialog-printer-setup.c (do_fetch_page_info) : Bug 21674.

2000-08-30  Jon K Hellan  <hellan@acm.org>

	* dialog-printer-setup.c (get_printable_height): Remove misleading
	comment.

2000-07-22  Michael Meeks  <michael@helixcode.com>

	* dialog-cell-format.c (cb_font_changed): update.

2000-07-22  Karl Eichwalder  <ke@suse.de>

	* dialog-analysis-tools.c (dialog_histogram_tool): Normalize string.

2000-07-15  Jody Goldberg <jgoldberg@home.com>

	* dialog-define-names.c (name_guru_populate_list) : Lookup sheet local
	  names too.
	(cb_name_guru_add) : Parse at the edit position.

2000-07-09  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (cb_font_changed) : Update to handle new
	  gnome-print encapsulation.

2000-07-04  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (formula_guru_set_rolled_state) : Functions
	  with no args cannot be rolled.
	(cb_formula_guru_clicked) : Disengage the guru before finishing the
	  edit.  Then manually destroy the dialog.  If we do not do this the
	  act of finished editing destroy the guru too early, and we ignore
	  the input.

	* names.glade : Use GtkDialog rather than GnomeDialog
	* dialog-define-names.c (name_guru_init) : Use
	  gnumeric_non_modal_dialog now that we are using GtkDialog rather
	  than GnomeDialog.

2000-07-03  Jody Goldberg <jgoldberg@home.com>

	* dialog-define-names.c (cb_name_guru_value_focus) : suppress warning.

2000-07-03  Morten Welinder  <terra@diku.dk>

	* dialog-stf-format-page.c (format_page_format_changed): Plug
 	leak.

	* dialog-stf-preview.c (stf_preview_colformats_add): Change to
 	take a StyleFormat *.  All callers changed.

	* dialog-stf.c (stf_dialog_result_free): Use style_format_unref
 	since the character strings were replaced by StyleFormats.

2000-07-02  Jody Goldberg <jgoldberg@home.com>

	* dialog-define-names.c : Remove a few glitches so that things no
	  longer crash.  They still suck. But at least they no longer crash.

2000-07-01  Morten Welinder  <terra@diku.dk>

	* dialog-plugin-manager.c (refresh_right_frame): Use time_t, not
 	long for times.  Make sure to delete the right character ('\n'),
 	not an arbitrary one.

2000-06-30  Morten Welinder  <terra@diku.dk>

	* dialog-solver.c (dialog_results): Initialise
 	keep_solver_solution.
	(dialog_solver): Remove buffer overflow.  Mark string for
 	translation.  Call free_original_values to plug leak.  Remove
 	several bogus casts.
	(constr_change_click): Remove buffer overflow.
	(free_original_values): New function.

	* dialog-autocorrect.c (add_fl_clicked): Use g_strdup.
	(add_in_clicked): Ditto.

2000-06-28  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (cb_formula_guru_entry_event) : Return FALSE.
	  We are not actually handling the event, just ensuring the display is
	  up to date.

2000-06-28  Jody Goldberg <jgoldberg@home.com>

	* dialog-define-names.c : Begin to rework in order to support
	  different scopes.

2000-06-20  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (cb_formula_guru_entry_focus_in) : Enable
	  autoscrolling.  Remove the gtk_widget_destroy calls, they appear to
	  generate warnings.

2000-06-18  Jody Goldberg <jgoldberg@home.com>

        * Release 0.56

2000-06-19  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (formula_guru_set_expr) : We need to
	  manually trigger a changed event after setting the position becuase
	  pre-gtk-1.4 setting the text reset the cursor position to 0.
	(cb_formula_guru_entry_event) : new function.
	(cb_formula_guru_rolled_entry_event) : new function.

2000-06-19  Jon K Hellan  <hellan@acm.org>

	* dialog-function-wizard.c (cb_formula_guru_entry_focus_in): Make
	"OK" button default.

2000-06-19  Kjartan Maraas  <kmaraas@gnome.org>

	* print-glade.h: Add comment to please xgettext.
	
2000-06-19  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (formula_guru_init) : Move the expression
	  initialization out of args_init so that it will work for varargs
	  too.

2000-06-18  Jody Goldberg <jgoldberg@home.com>

        * Release 0.55

	* Makefile.am : add dialog-autocorrect.h

2000-06-18  Jon K Hellan  <hellan@acm.org>

	* dialog-function-select.c (dialog_function_select_impl): Make
	column titles passive. Do not close on help.
	(function_select_row): Make double click in function column mean
	"OK".

	* function-select.glade: Change to browse select in the
	lists. Move help button to the far right. Make it insensitive.
	
	* formula-guru.glade: Make help button insensitive.

2000-06-18  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (cb_formula_guru_entry_focus_in) :
	  Use the same number of args as the default for var args as for the
	  max visibility.
	(formula_guru_init_args) : Handle varargs here.
	(dialog_formula_guru) : Not here.

2000-06-18  Jon K Hellan  <hellan@acm.org>

	* dialog-function-wizard.c (formula_guru_arg_new): Use constant
	MAX_ARGS_DISPLAYED for max # of args to display.
	(formula_guru_init): Initialize
	arg-requisition. 
	(formula_guru_set_scrollwin_size): Better way to check if we have
	already checked the table size.

2000-06-17  Jon K Hellan  <hellan@acm.org>

	* dialog-function-wizard.c (struct _FormulaGuruState,
	formula_guru_set_expr, cb_formula_guru_rolled_entry_changed,
	formula_guru_set_rolled_state, cb_formula_guru_entry_focus_in,
	cb_formula_guru_destroy, cb_formula_guru_key_press,
	cb_formula_guru_clicked, formula_guru_arg_delete,
	formula_guru_arg_new, formula_guru_init_args,
	formula_guru_init_button, formula_guru_init, dialog_formula_guru,
	dialog_formula_guru): s/FomulaGuruState/FormulaGuruState/
	(cb_formula_guru_key_press): New callback. Close guru on Esc.
	(formula_guru_init): Connect it.
	(formula_guru_set_rolled_state, dialog_formula_guru): Set focus to
	current entry.
	(formula_guru_set_rolled_state, formula_guru_arg_new): Make <Ret>
	in entry fields mean "OK".
	(formula_guru_arg_new): Record table size once we have four
	arguments.
	(formula_guru_set_scrollwin_size): New static function. Record
	table size if we haven't already done so. Set scrolled window size
	to recorded requisition for table. The upshot is that with <= 4
	arguments, the size of the argument frame is exactly right. With
	more, the viewport of the scrolled window shows 4.
	(formula_guru_init): Show dialog - needed since it is set
	invisible in glade file.

	* formula-guru.glade: Set guru invisible in glade file - reduces
	flicker. Set scrolled window border size to 4.

2000-06-17  Jon K Hellan  <hellan@acm.org>

	* formula-guru.glade: Allow auto-shrink - it's exactly what we
	want.

2000-06-15  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c (cb_formula_guru_entry_focus_in) :
	  Use gtk_container_remove instead of gtk_object_destroy.
	  To avoid leaks.
	(cb_formula_guru_destroy) : We do want to release the memory from the
	  array.
	(formula_guru_init) : Do not show_all here.
	(dialog_formula_guru) : Do it here after we potentially add extra args.

2000-06-15  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c : Switch back to using a table.
	  Support editing an existing expression.

2000-06-15  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-wizard.c : Gladify and add roll up/down
	  automatic entry addition/deletion for varargs.

2000-06-15  JP Rosevear  <jpr@arcavia.com>

	* cell-sort.glade: Tidy the UI

	* dialog-cell-sort.c (order_box_new): Make the clause boxes look
	a little nicer.

2000-06-13  Morten Welinder  <terra@diku.dk>

	* dialog-stf-format-page.c (format_page_format_changed): Plug
 	leak.

2000-06-13  Jody Goldberg <jgoldberg@home.com>

	* dialog-function-select.c (dialog_function_select_impl) : Plug leak.

	* dialog-function-wizard.c : Major overhaul to support non-modality
	  and selecting ranges using the mouse.  Lots of work remains.

2000-06-12  Jody Goldberg <jgoldberg@home.com>

	* dialog-cell-format.c (fmt_dialog_enable_widgets) : Currency formats
	  always have thousands seperators.

2000-06-13  Jon K Hellan  <hellan@acm.org>

	* print.glade(.h)?: No automatic support in Glade/libglade for
	underline accelerators in buttons in action area. Remove them from
	Print, Print Preview and option buttons.

	* dialog-printer-setup.c (do_setup_margin): Convert from Excel
	semantics for header/footer - measured from top/bottom of sheet -
	to measuring from bottom of top margin/top of bottom margin.
	(do_fetch_margins): And vice versa.
	(do_setup_main_dialog): Silence warning.

2000-06-12  JP Rosevear  <jpr@arcavia.com>

	* dialog-cell-sort.c (dialog_cell_sort_ok): If the region has a
	header, setup the dialog appropriately.

2000-06-11  Jon K Hellan  <hellan@acm.org>

	* dialog-cell-format.c (line_info[]): Add explanatory comment.
	(draw_border_preview): Fix typos. Wrong symbolic define was being
	used, but the numbers were the same, so the result was correct.

2000-06-08  ERDI Gergo  <cactus@cactus.rulez.org>

	* src/dialogs/dialog-printer-setup.c (unit_editor_configure):
	Fixed a possible memory leak (callback data was not freed)

2000-06-06  Miguel de Icaza  <miguel@helixcode.com>

	* dialog-autocorrect.c (autocorrect_tool): Duplicate return string here.

2000-06-06  JP Rosevear  <jpr@arcavia.com>

	* cell-sort.glade: GUI tidying

	* dialog-cell-sort.c (dialog_cell_sort_ok): Reflect sorting changes
	(dialog_cell_sort_del_clause): ditto
	(dialog_cell_sort_header_toggled): ditto
	(dialog_cell_sort): ditto
	
2000-06-04  Miguel de Icaza  <miguel@helixcode.com>

	* dialog-function-wizard.c (dialog_function_druid): Use
	workbook_get_entry here.

	* dialog-printer-setup.c (spin_button_adapt_to_unit): Added
	g_assert_not_reached ();

2000-06-02  Jon K Hellan  <hellan@acm.org>

	* dialog-autocorrect.c: #include dialog-autocorrect.h to silence
	warning.

	* dialog-printer-setup.c (spin_button_adapt_to_unit): Add default
	clause to switch in order to silence warning.

	* dialogs.h: Define key for storing about dialog as object data
	on the workbook window.

2000-05-29  Jody Goldberg <jgoldberg@home.com>

	* dialog-analysis-tools.c (add_check_buttons) : Translate the parm
	  label.
	(add_output_frame) : Translate the frame label.
	(dialog_descriptive_stat_tool) : Translate the buttons.
	(distribution_parbox_config) : Ditto.
	(combo_get_distribution) : Handle translation.
	(dialog_random_tool) : Translate elements.
	(dialog_data_analysis) : Ditto.

	* dialog-stf.glade{,.h} : adjust to the fact that glade files are
	  versioned.  Remove the default labels from the Clists, they
	  were being translated.
	* dialog-stf-export.glade{,.h} :  Ditto.

	* font-sel.glade{,.h} : Remove default labels from Clists.

	* import.glade{,.h} : Ditto.

