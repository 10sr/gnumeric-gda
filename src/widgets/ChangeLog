2000-04-05  Jody Goldberg <jgoldberg@home.com>

	* widget-color-combo.c (color_combo_finalize) : Unref the tooltip too.

	* gtk-combo-text.c (gtk_combo_text_destroy) : New routine.
	(gtk_combo_text_class_init) : Install a destructor.

2000-03-29  Jon K Hellan  <hellan@acm.org>

	* gtk-combo-box.h (gtk_combo_box_set_title): Declare

	* gtk-combo-box.c: Implement tearoff combo boxes.
	(struct _GtkComboBoxPrivate): New/renamed
	members: toplevel, tearoff_window: Popup's toplevel when
	torn_off/not torn off. torn_off: Tearoff status flag. Names are
	the same as in gtk/gtkmenu.c. tearable: The tearoff
	"button". popup: The widget which gets torn off. This is actually
	the event box.
	(gtk_combo_box_finalize): Destroy tearoff window.
	(gtk_combo_box_popup_hide): Turned into a wrapper which does
	nothing if popup is torn off, and calls
	gtk_combo_box_popup_hide_unconditional if it isn't.
	(gtk_combo_box_popup_hide_unconditional): Contains the logic which
	used to be in gtk_combo_box_popup_hide. If torn off, the popup is
	reattached after hiding.
	(gtk_combo_box_popup_display): Realize popup as well as toplevel.
	(gtk_combo_toggle_pressed): Use
	gtk_combo_box_popup_hide_unconditional. 
	(gtk_combo_box_key_press): New function. Dismiss popup on escape.
	(gtk_combo_box_init): Various renamings. Connect key press handler.
	(gtk_combo_get_parent_toplevel): 
	(gtk_combo_popup_tear_off): New function. Tear off the popup.
	(cb_tearable_button_release): Toggle tearoff state.
	(gtk_combo_box_construct): Make tearoff menu item no fill, no
	expand. 
	(gtk_combo_box_set_title): New function. Set a title to display
	over the tearoff window.

2000-03-26  Jody Goldberg <jgoldberg@home.com>

	* gtk-combo-text.c : Add a hash to be used for proper lookup of
	  entries made directly in the edit area.  Yes morten it leaks.
	(gtk_combo_text_construct) : Make scrolling
	  optional.
	(gtk_combo_text_add_item) : Add some brute force mouse over effects.
	  Still need autoscroll, and cancel.

2000-03-25  Jody Goldberg <jgoldberg@home.com>

	* widget-color-combo.c (color_table_setup) : Init the new custom_color data.
	(set_color) : We can set the colour to NULL.  This signifies that the
	  optional no_color is in use.  Outline the colour bar if the current is NULL.
	(cb_nocolor_clicked) : Renamed from desc_label_clicked.  This is NOT a
	  descriptive label, it is a button.
	(color_combo_finalize) : Free the custom colour.
	(cust_color_set) : Do not use static variables for things like this.

	* widget-color-combo.h (ColorCombo) : Add custom_colour and
	  custom_colour_allocated.

2000-03-24  Jody Goldberg <jgoldberg@home.com>

	* gtk-combo-text.c (gtk_combo_text_select_item) : New function.

