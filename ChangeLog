2002-01-31  Jody Goldberg <jody@gnome.org>

	* src/workbook-control-gui.c (wbcg_focus_cur_scg) : warning
	  suppression.
	(sheet_control_gui_new) : enable partial scrollbar support.

	* src/workbook-control.c (wb_control_parse_and_jump) : make defined
	  names absolute.

2002-01-30  Jody Goldberg <jody@gnome.org>

	* src/dialogs/dialog-autoformat.c (templates_load) : changes to
	  category_group_get_templates_list.

	* src/xml-io-autoft.c (gnumeric_xml_write_format_template) : take a
	  context not a control to clarify things.
	(gnumeric_xml_read_format_template) : ditto.

	* src/workbook.c (workbook_persist_file_save) : changes to
	  wb_view_save_as.

	* src/io-context.c (io_context_destroy) : impl is a command context now.
	(gnumeric_io_context_new) : weaken requirements so that all we need is
	  a command context.  Not strictly necessary, but makes it less likely
	  that people will get confused.

	* src/workbook-view.c (wb_view_save_as) : Take a command context not a
	  workbook control to avoid confusing what we are saving.
	(wb_view_save) : ditto.
	(wb_view_selection_desc) : Implement using an explicit control.
	(wb_view_open_custom) : add a missing precondition.
	* src/gui-file.c (do_save_as) : changes to wb_view_save_as.
	(gui_file_save_to_stream) :  changes to gnumeric_io_context_new.

	* src/file-autoft.c (category_get_templates_list) : take a command
	context, not a workbookcontrol.
	(category_group_get_templates_list) : ditto.
	* src/format-template.c (format_template_new) : ditto.
	(format_template_new_from_file) : ditto.

2002-01-31  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/analysis-tools.h : include type definitions and function
	  prototypes previously in src/dialogs/dialog-analysis-tools.c
	* src/analysis-tools.c (autofit_columns) : make non-static
	* src/func-util.h (parse_database_criteria) : new

2002-01-30  Jody Goldberg <jody@gnome.org>

	* src/application.c : merge in the new object icons from jimmac.
	* src/pixmaps/Makefile.am : ditto.
	* src/workbook-control-gui.c : ditto.
	* src/GNOME_Gnumeric.xml : ditto.
	s/^/Object/
	s/Rect/Rectangle/
	s/Oval/Ellipse/
	s/Checkbutton/Checkbox/

	* src/gui-util.c (gnumeric_error_info_dialog_show) : center error
	  dialog on the mouse.

2002-01-29  Jody Goldberg <jody@gnome.org>

	* src/workbook-control-gui.c (cb_notebook_switch_page) : fix changing
	  sheets.

2002-01-29  Jody Goldberg <jody@gnome.org>

	* src/workbook-format-toolbar.c (workbook_create_format_toolbar) :
	  hard code relief.
	* src/workbook-control-gui.c (workbook_create_standard_toolbar) :
	  ditto.

2002-01-29  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/workbook-control-gui.c (sheet_action_rename_sheet) : move most 
	  code into dialog_sheet_name and friends
	(cb_sheet_change_name) : ditto, also rename to cb_sheet_name

2002-01-28 Joshua R. Odom <jrodom@stic.net>

	* src/application.c : clean up the file names to match the code.
	* src/pixmaps/Makefile.am : ditto.

2002-01-28  Jody Goldberg <jody@gnome.org>

	* src/workbook.c (workbook_sheet_move) : flag if the move did
	  anything.

	* src/workbook-object-toolbar.c :  adjust to the new creation format.

	* src/workbook-edit.c (wbcg_edit_has_guru) : return the actual guru.

	* src/workbook-control-gui.c : Explicitly use the STOCK items rather
	  than just the stock icon names.  This enables the accelerators too.

	* src/sheet-object-widget.c : cleanup.
	  Use _init functions, no need to create a silly _new wrapper that calls
	  construct.  Remove unused Sheet arguments.

	* src/gnumeric-canvas.c (gnm_canvas_guru_key) : new.
	(gnm_canvas_key_mode_sheet) : be more careful about what how to handle
	  keys when there is a guru up.

	* src/sheet-object-widget.c (sheet_widget_checkbox_user_config) :
	  create the table.

2002-01-27  Jody Goldberg <jody@gnome.org>

	* src/Makefile.am : cleanup the generated files.

2002-01-28  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/consolidate.c (consolidate_set_destination) : accept 
	  value instead of range
	(consolidate_add_source) : ditto
	* src/consolidate.h (consolidate_set_destination) : change
	  parameters
	(consolidate_add_source) : ditto
	
2002-01-27  Seth Nickell  <snickell@stanford.edu>

	* Makefile.am:

	Install .desktop file into prefix/share/applications,
	the new location for .desktop files in GNOME 2.
	
	* gnumeric.desktop.in:

	Add appropriate categories fields.

	Add a functional description to match the GNOME 2
	HIG.
	
2002-01-27  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/gui_util.c (gnumeric_destroy_dialog) : new callback
	(gnumeric_notice_nonmodal) : save dialog ptr in reference
	* src/gui_util.h (gnumeric_notice_nonmodal) : change
	  parameters and return value

2002-01-27  Jody Goldberg <jody@gnome.org>

	* src/workbook-control-gui.c :
	  remove Menu_ prefix from pixmap names.

2002-01-26  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/gui-util.c (gnumeric_notice_nonmodal) : non-modal version of
	  gnumeric_notice
	(gnumeric_dialog_run) : remove warning
	* src/gui-util.h (gnumeric_notice_nonmodal) : new
	
2002-01-26  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/gui-util.c (entry_to_float) : 
	  moved here from dialogs/dialog-analysis-tools.c
	(entry_to_int) : ditto
	(float_to_entry) : ditto
	(int_to_entry) : ditto
	
	* src/gui-util.h (entry_to_float) new function (used to be static) 
	(entry_to_int) : ditto
	(float_to_entry) : ditto
	(int_to_entry) : ditto

2002-01-25  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* item-grid.c (item_grid_event) : don't scroll at end of formula 
	  range selection (http://bugzilla.gnome.org/show_bug.cgi?id=63485)
	
2002-01-25  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/gui-util.c (gnumeric_dialog_run) : use GTK functions
	(gnumeric_notice) : create GTK_Message_Dialog
	* src/gui-util.h (gnumeric_notice) : change type of second argument
	* src/gui-file.c : fix all calls to gnumeric_notice
	* src/print.c : ditto
	* src/style.c : ditto
	* src/workbook-cmd-format.c : ditto
	* src/workbook-control-gui.c : ditto
	
2002-01-25  Jody Goldberg <jody@gnome.org>

	* src/sheet-control-gui.c (scg_context_menu) : fix the icon names.

	* src/gui-util.c (gnumeric_popup_menu) : sink the menus.

	* src/main.c (main) : lock the encoding to be utf-8.

	* src/eval.c : enable the micro hash by default.

	* src/expr.c (cellref_relocate) : simplify and remove the force
	  arguments.  Flag invalidations from inside vs to inside. From takes
	  precendence.
	(cellref_shift) : new.
	(cellrange_relocate) : simplfy and try a different tack on how to
	  handle corners with different sets of relocation needs.

	* src/commands.c (cmd_paste_cut_undo) : pass NULL for the
	  reloc_storage to disable invalidation.

	* src/sheet.c (sheet_move_range) : document.
	  Make the reloc_storage optional.  If it is not specified do NOT
	  invalidate references to the dst region that are being
	  invalidated.  Since this routine is only used for cut redo/undo
	  and undo really should not be invalidating we use that as a flag.

2002-01-25  Jody Goldberg <jody@gnome.org>

	* src/Makefile.am : register the marshaller as BUILT sources.

2002-01-24  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/cell.h (cell_get_render_color) : new
	* src/rendered-value.c (cell_get_render_color) : new

2002-01-24  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/ranges.h (global_range_name) : new
	* src/ranges.c (global_range_name) : new

2002-01-24  Jody Goldberg <jody@gnome.org>

	* configure.in : explicitly disable guile, psiconv, and bonobo for now.
	Add a warning.

	* src/Makefile.am : Apparently the sources list is order dependent.
	  Put the built sources at the top.

2002-01-24  Rodrigo Moya <rodrigo@gnome-db.org>

	* configure.in: fixed libgda detection for GNOME 2.

2002-01-23  Jody Goldberg <jody@gnome.org>

	* src/gui-util.c (gnumeric_textview_get_text) : new utility.
	(gnumeric_textview_set_text) : ditto.

	* src/history.c : tidy up a mite.

	* src/gui-util.c : Some initial conversions to gnome2.  Needs work.

	* src/gui-file.c (can_try_save_to) : Use the new glib2 file utilities.

	* src/gnumeric.h : remove the gnome-1.4 compatibility shims.

	* src/gnumeric-pane.c (gnumeric_pane_realized) : renamed to be
	  consistent.

	* src/gnumeric-graph.c (bonobo_activation_exception_id) : renamed from
	  oaf_exception_id.
	(gnm_graph_setup) : begin conversion to bonobo-activation.

	* src/gnumeric-canvas.c : disable the IM support for now.

	* src/formats.c (currency_symbols) : pound, yen, euro -> utf8.

	* src/format.c : no need for portability.h
	* src/func.c : ditto.

	* src/file.c (gnum_file_saver_setup) : disable mime for now.

	* src/command-context.c : Inherit directly from GObject.
	* src/commands.c : ditto.
	* src/complete-sheet.c : ditto.
	* src/complete.c : ditto.

	* src/application.c : convert to new stock icon management.

	* src/Makefile.am : remove portability.h.
	  Add pixmaps subdir.
	  Build marshallers.

	* Makefile.am : Convert to intltool.
	* acconfig.h : Convert to gnome2 gettext format.
	* .cvsignore : Convert to intltool, and remove the Conf file.
	* src/.cvsignore : Update.
	* autogen.sh : Convert to gnome2.
	* configure.in : Rough conversion to gnome2.  We'll need to re-enable
	  the plugins.

	* idl/GNOME_Gnumeric.idl : Delete an unused interface.
	* idl/Makefile.am (dist) : update.

	* plugins/Makefile.am :  Use WITH_GUILE rather than just GUILE to be
	  consistent.
	* plugins/*/Makefile.am : Convert to intltool.

2002-01-22  Jody Goldberg <jody@gnome.org>

	* src/sheet-autofill.c (autofill_create_fill_items) : Use
	  list_prepend, and reverse in palce of append.

2001-01-22  Kevin Breit <mrproper@ximian.com>

	* Makefile.am: Added omf-install/
	* omf-install: Added directory for OMF stuff
	* omf-install/Makefile.am: Copied that in
	
2002-01-22  Rodrigo Moya <rodrigo@gnome-db.org>

	* README:
	* configure.in: increased minimum libgda versions
